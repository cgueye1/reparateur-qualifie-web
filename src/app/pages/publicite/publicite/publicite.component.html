<div class="w-full">
  <!-- SECTION 1 -->

  <div class="flex justify-between items-center mb-6">

    <!-- Gauche : titres -->
    <div class="space-y-1">
      <h1 class="text-2xl font-bold text-[#343A40]">Publicit√©s</h1>
      <p class="text-sm text-gray-500 mt-5">G√©rer les publicit√©s contextuelles afin de mon√©tiser la plateforme.</p>
    </div>

    <!-- Droite : bouton -->
    <div class="flex items-center gap-4">
      <!-- Bouton Exporter -->
      <button (click)="openCreatePopup()">
        <svg width="203" height="44" viewBox="0 0 203 44" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="203" height="44" rx="8" fill="#E95F32" />
          <g clip-path="url(#clip0_137_5954)">
            <path
              d="M32 29C30.1435 29 28.363 28.2625 27.0503 26.9497C25.7375 25.637 25 23.8565 25 22C25 20.1435 25.7375 18.363 27.0503 17.0503C28.363 15.7375 30.1435 15 32 15C33.8565 15 35.637 15.7375 36.9497 17.0503C38.2625 18.363 39 20.1435 39 22C39 23.8565 38.2625 25.637 36.9497 26.9497C35.637 28.2625 33.8565 29 32 29ZM32 30C34.1217 30 36.1566 29.1571 37.6569 27.6569C39.1571 26.1566 40 24.1217 40 22C40 19.8783 39.1571 17.8434 37.6569 16.3431C36.1566 14.8429 34.1217 14 32 14C29.8783 14 27.8434 14.8429 26.3431 16.3431C24.8429 17.8434 24 19.8783 24 22C24 24.1217 24.8429 26.1566 26.3431 27.6569C27.8434 29.1571 29.8783 30 32 30Z"
              fill="white" />
            <path
              d="M32 18C32.1326 18 32.2598 18.0527 32.3536 18.1464C32.4473 18.2402 32.5 18.3674 32.5 18.5V21.5H35.5C35.6326 21.5 35.7598 21.5527 35.8536 21.6464C35.9473 21.7402 36 21.8674 36 22C36 22.1326 35.9473 22.2598 35.8536 22.3536C35.7598 22.4473 35.6326 22.5 35.5 22.5H32.5V25.5C32.5 25.6326 32.4473 25.7598 32.3536 25.8536C32.2598 25.9473 32.1326 26 32 26C31.8674 26 31.7402 25.9473 31.6464 25.8536C31.5527 25.7598 31.5 25.6326 31.5 25.5V22.5H28.5C28.3674 22.5 28.2402 22.4473 28.1464 22.3536C28.0527 22.2598 28 22.1326 28 22C28 21.8674 28.0527 21.7402 28.1464 21.6464C28.2402 21.5527 28.3674 21.5 28.5 21.5H31.5V18.5C31.5 18.3674 31.5527 18.2402 31.6464 18.1464C31.7402 18.0527 31.8674 18 32 18Z"
              fill="white" />
          </g>
          <path
            d="M61.5753 20.1293H60.0241C59.9645 19.7978 59.8535 19.5062 59.6911 19.2543C59.5286 19.0024 59.3298 18.7886 59.0945 18.6129C58.8591 18.4373 58.5956 18.3047 58.304 18.2152C58.0156 18.1257 57.709 18.081 57.3842 18.081C56.7976 18.081 56.2723 18.2285 55.8082 18.5234C55.3475 18.8184 54.983 19.2509 54.7145 19.821C54.4493 20.3911 54.3168 21.0871 54.3168 21.9091C54.3168 22.7377 54.4493 23.437 54.7145 24.0071C54.983 24.5772 55.3492 25.008 55.8132 25.2997C56.2772 25.5914 56.7992 25.7372 57.3793 25.7372C57.7008 25.7372 58.0057 25.6941 58.294 25.608C58.5857 25.5185 58.8492 25.3875 59.0845 25.2152C59.3198 25.0429 59.5187 24.8324 59.6811 24.5838C59.8468 24.3319 59.9612 24.0436 60.0241 23.7188L61.5753 23.7237C61.4924 24.2242 61.3317 24.6849 61.093 25.1058C60.8577 25.5234 60.5545 25.8847 60.1832 26.1896C59.8153 26.4912 59.3944 26.7249 58.9205 26.8906C58.4465 27.0563 57.9295 27.1392 57.3693 27.1392C56.4877 27.1392 55.7022 26.9304 55.0128 26.5128C54.3234 26.0919 53.7798 25.4903 53.3821 24.7081C52.9877 23.9259 52.7905 22.9929 52.7905 21.9091C52.7905 20.822 52.9893 19.889 53.3871 19.1101C53.7848 18.3279 54.3284 17.728 55.0178 17.3104C55.7071 16.8894 56.491 16.679 57.3693 16.679C57.9096 16.679 58.4134 16.7569 58.8807 16.9126C59.3513 17.0651 59.7739 17.2905 60.1484 17.5888C60.523 17.8838 60.8329 18.245 61.0781 18.6726C61.3234 19.0968 61.4891 19.5824 61.5753 20.1293ZM63.2942 27V19.3636H64.731V20.5767H64.8105C64.9498 20.1657 65.195 19.8426 65.5463 19.6072C65.901 19.3686 66.302 19.2493 66.7495 19.2493C66.8423 19.2493 66.9516 19.2526 67.0776 19.2592C67.2069 19.2659 67.3079 19.2741 67.3809 19.2841V20.706C67.3212 20.6894 67.2151 20.6712 67.0627 20.6513C66.9102 20.6281 66.7578 20.6165 66.6053 20.6165C66.254 20.6165 65.9408 20.6911 65.6657 20.8402C65.3939 20.986 65.1784 21.1899 65.0194 21.4517C64.8603 21.7102 64.7807 22.0052 64.7807 22.3366V27H63.2942ZM71.685 27.1541C70.9326 27.1541 70.2847 26.9934 69.7411 26.6719C69.2009 26.3471 68.7833 25.8913 68.4883 25.3047C68.1966 24.7147 68.0508 24.0237 68.0508 23.2315C68.0508 22.4493 68.1966 21.7599 68.4883 21.1634C68.7833 20.5668 69.1942 20.1011 69.7212 19.7663C70.2515 19.4316 70.8713 19.2642 71.5806 19.2642C72.0115 19.2642 72.4291 19.3355 72.8335 19.478C73.2378 19.6205 73.6007 19.8442 73.9222 20.1491C74.2437 20.4541 74.4973 20.8501 74.6829 21.3374C74.8685 21.8213 74.9613 22.4096 74.9613 23.1023V23.6293H68.891V22.5156H73.5046C73.5046 22.1245 73.4251 21.7782 73.266 21.4766C73.1069 21.1716 72.8832 20.9313 72.5948 20.7557C72.3098 20.58 71.975 20.4922 71.5906 20.4922C71.1729 20.4922 70.8084 20.5949 70.4968 20.8004C70.1886 21.0026 69.9499 21.2678 69.7809 21.5959C69.6152 21.9207 69.5323 22.2737 69.5323 22.6548V23.5249C69.5323 24.0353 69.6218 24.4695 69.8008 24.8274C69.9831 25.1854 70.2366 25.4588 70.5614 25.6477C70.8862 25.8333 71.2657 25.9261 71.6999 25.9261C71.9817 25.9261 72.2385 25.8864 72.4705 25.8068C72.7025 25.724 72.9031 25.6013 73.0721 25.4389C73.2411 25.2765 73.3704 25.076 73.4599 24.8374L74.8668 25.0909C74.7541 25.5052 74.552 25.8681 74.2603 26.1797C73.9719 26.4879 73.609 26.7282 73.1715 26.9006C72.7373 27.0696 72.2418 27.1541 71.685 27.1541ZM70.9094 18.3445L72.0728 16.0526H73.6388L72.0977 18.3445H70.9094ZM79.9018 27.1541C79.1494 27.1541 78.5015 26.9934 77.9579 26.6719C77.4177 26.3471 77.0001 25.8913 76.7051 25.3047C76.4134 24.7147 76.2676 24.0237 76.2676 23.2315C76.2676 22.4493 76.4134 21.7599 76.7051 21.1634C77.0001 20.5668 77.411 20.1011 77.938 19.7663C78.4683 19.4316 79.0881 19.2642 79.7974 19.2642C80.2283 19.2642 80.6459 19.3355 81.0502 19.478C81.4546 19.6205 81.8175 19.8442 82.139 20.1491C82.4605 20.4541 82.7141 20.8501 82.8997 21.3374C83.0853 21.8213 83.1781 22.4096 83.1781 23.1023V23.6293H77.1078V22.5156H81.7214C81.7214 22.1245 81.6419 21.7782 81.4828 21.4766C81.3237 21.1716 81.1 20.9313 80.8116 20.7557C80.5266 20.58 80.1918 20.4922 79.8074 20.4922C79.3897 20.4922 79.0252 20.5949 78.7136 20.8004C78.4054 21.0026 78.1667 21.2678 77.9977 21.5959C77.832 21.9207 77.7491 22.2737 77.7491 22.6548V23.5249C77.7491 24.0353 77.8386 24.4695 78.0176 24.8274C78.1999 25.1854 78.4534 25.4588 78.7782 25.6477C79.103 25.8333 79.4825 25.9261 79.9167 25.9261C80.1984 25.9261 80.4553 25.8864 80.6873 25.8068C80.9193 25.724 81.1199 25.6013 81.2889 25.4389C81.4579 25.2765 81.5872 25.076 81.6767 24.8374L83.0836 25.0909C82.9709 25.5052 82.7688 25.8681 82.4771 26.1797C82.1887 26.4879 81.8258 26.7282 81.3883 26.9006C80.9541 27.0696 80.4586 27.1541 79.9018 27.1541ZM84.8274 27V19.3636H86.2642V20.5767H86.3438C86.483 20.1657 86.7282 19.8426 87.0795 19.6072C87.4342 19.3686 87.8352 19.2493 88.2827 19.2493C88.3755 19.2493 88.4848 19.2526 88.6108 19.2592C88.7401 19.2659 88.8411 19.2741 88.9141 19.2841V20.706C88.8544 20.6894 88.7483 20.6712 88.5959 20.6513C88.4434 20.6281 88.291 20.6165 88.1385 20.6165C87.7872 20.6165 87.474 20.6911 87.1989 20.8402C86.9271 20.986 86.7116 21.1899 86.5526 21.4517C86.3935 21.7102 86.3139 22.0052 86.3139 22.3366V27H84.8274ZM98.7429 23.8331V19.3636H100.234V27H98.7727V25.6776H98.6932C98.5175 26.0852 98.2358 26.425 97.848 26.6967C97.4635 26.9652 96.9846 27.0994 96.4112 27.0994C95.9207 27.0994 95.4865 26.9917 95.1087 26.7763C94.7341 26.5575 94.4392 26.2344 94.2237 25.8068C94.0116 25.3793 93.9055 24.8506 93.9055 24.2209V19.3636H95.392V24.0419C95.392 24.5623 95.5362 24.9766 95.8246 25.2848C96.1129 25.593 96.4875 25.7472 96.9482 25.7472C97.2266 25.7472 97.5033 25.6776 97.7784 25.5384C98.0568 25.3991 98.2872 25.1887 98.4695 24.907C98.6551 24.6252 98.7462 24.2673 98.7429 23.8331ZM103.718 22.4659V27H102.232V19.3636H103.659V20.6065H103.753C103.929 20.2022 104.204 19.8774 104.578 19.6321C104.956 19.3868 105.432 19.2642 106.005 19.2642C106.526 19.2642 106.981 19.3736 107.372 19.5923C107.763 19.8078 108.067 20.1293 108.282 20.5568C108.498 20.9844 108.605 21.513 108.605 22.1428V27H107.119V22.3217C107.119 21.7682 106.975 21.3357 106.686 21.0241C106.398 20.7093 106.002 20.5518 105.498 20.5518C105.153 20.5518 104.847 20.6264 104.578 20.7756C104.313 20.9247 104.103 21.1435 103.947 21.4318C103.794 21.7169 103.718 22.0616 103.718 22.4659ZM113.89 27.1541C113.138 27.1541 112.49 26.9934 111.946 26.6719C111.406 26.3471 110.988 25.8913 110.693 25.3047C110.402 24.7147 110.256 24.0237 110.256 23.2315C110.256 22.4493 110.402 21.7599 110.693 21.1634C110.988 20.5668 111.399 20.1011 111.926 19.7663C112.457 19.4316 113.076 19.2642 113.786 19.2642C114.217 19.2642 114.634 19.3355 115.039 19.478C115.443 19.6205 115.806 19.8442 116.127 20.1491C116.449 20.4541 116.702 20.8501 116.888 21.3374C117.074 21.8213 117.166 22.4096 117.166 23.1023V23.6293H111.096V22.5156H115.71C115.71 22.1245 115.63 21.7782 115.471 21.4766C115.312 21.1716 115.088 20.9313 114.8 20.7557C114.515 20.58 114.18 20.4922 113.796 20.4922C113.378 20.4922 113.013 20.5949 112.702 20.8004C112.394 21.0026 112.155 21.2678 111.986 21.5959C111.82 21.9207 111.737 22.2737 111.737 22.6548V23.5249C111.737 24.0353 111.827 24.4695 112.006 24.8274C112.188 25.1854 112.442 25.4588 112.767 25.6477C113.091 25.8333 113.471 25.9261 113.905 25.9261C114.187 25.9261 114.444 25.8864 114.676 25.8068C114.908 25.724 115.108 25.6013 115.277 25.4389C115.446 25.2765 115.575 25.076 115.665 24.8374L117.072 25.0909C116.959 25.5052 116.757 25.8681 116.465 26.1797C116.177 26.4879 115.814 26.7282 115.377 26.9006C114.942 27.0696 114.447 27.1541 113.89 27.1541ZM122.521 29.8636V19.3636H123.972V20.6016H124.097C124.183 20.4425 124.307 20.2585 124.47 20.0497C124.632 19.8409 124.857 19.6586 125.146 19.5028C125.434 19.3438 125.815 19.2642 126.289 19.2642C126.906 19.2642 127.456 19.42 127.94 19.7315C128.424 20.0431 128.803 20.4922 129.078 21.0788C129.357 21.6655 129.496 22.3714 129.496 23.1967C129.496 24.022 129.358 24.7296 129.083 25.3196C128.808 25.9062 128.43 26.3587 127.95 26.6768C127.469 26.9917 126.921 27.1491 126.304 27.1491C125.84 27.1491 125.461 27.0713 125.166 26.9155C124.874 26.7597 124.645 26.5774 124.48 26.3686C124.314 26.1598 124.186 25.9742 124.097 25.8118H124.007V29.8636H122.521ZM123.977 23.1818C123.977 23.7187 124.055 24.1894 124.211 24.5938C124.367 24.9981 124.592 25.3146 124.887 25.5433C125.182 25.7687 125.544 25.8814 125.971 25.8814C126.415 25.8814 126.786 25.7637 127.085 25.5284C127.383 25.2898 127.608 24.9666 127.761 24.5589C127.917 24.1513 127.994 23.6922 127.994 23.1818C127.994 22.678 127.918 22.2256 127.766 21.8246C127.617 21.4235 127.391 21.107 127.09 20.875C126.791 20.643 126.419 20.527 125.971 20.527C125.54 20.527 125.176 20.638 124.877 20.8601C124.582 21.0821 124.359 21.392 124.206 21.7898C124.054 22.1875 123.977 22.6515 123.977 23.1818ZM135.999 23.8331V19.3636H137.49V27H136.029V25.6776H135.949C135.773 26.0852 135.492 26.425 135.104 26.6967C134.719 26.9652 134.24 27.0994 133.667 27.0994C133.177 27.0994 132.742 26.9917 132.365 26.7763C131.99 26.5575 131.695 26.2344 131.48 25.8068C131.267 25.3793 131.161 24.8506 131.161 24.2209V19.3636H132.648V24.0419C132.648 24.5623 132.792 24.9766 133.08 25.2848C133.369 25.593 133.743 25.7472 134.204 25.7472C134.482 25.7472 134.759 25.6776 135.034 25.5384C135.313 25.3991 135.543 25.1887 135.725 24.907C135.911 24.6252 136.002 24.2673 135.999 23.8331ZM139.607 27V16.8182H141.093V20.6016H141.183C141.269 20.4425 141.393 20.2585 141.556 20.0497C141.718 19.8409 141.944 19.6586 142.232 19.5028C142.52 19.3438 142.901 19.2642 143.375 19.2642C143.992 19.2642 144.542 19.42 145.026 19.7315C145.51 20.0431 145.889 20.4922 146.164 21.0788C146.443 21.6655 146.582 22.3714 146.582 23.1967C146.582 24.022 146.444 24.7296 146.169 25.3196C145.894 25.9062 145.516 26.3587 145.036 26.6768C144.555 26.9917 144.007 27.1491 143.39 27.1491C142.926 27.1491 142.547 27.0713 142.252 26.9155C141.96 26.7597 141.731 26.5774 141.566 26.3686C141.4 26.1598 141.272 25.9742 141.183 25.8118H141.059V27H139.607ZM141.064 23.1818C141.064 23.7187 141.141 24.1894 141.297 24.5938C141.453 24.9981 141.678 25.3146 141.973 25.5433C142.268 25.7687 142.63 25.8814 143.057 25.8814C143.501 25.8814 143.873 25.7637 144.171 25.5284C144.469 25.2898 144.694 24.9666 144.847 24.5589C145.003 24.1513 145.081 23.6922 145.081 23.1818C145.081 22.678 145.004 22.2256 144.852 21.8246C144.703 21.4235 144.477 21.107 144.176 20.875C143.877 20.643 143.505 20.527 143.057 20.527C142.626 20.527 142.262 20.638 141.963 20.8601C141.668 21.0821 141.445 21.392 141.292 21.7898C141.14 22.1875 141.064 22.6515 141.064 23.1818ZM149.738 16.8182V27H148.251V16.8182H149.738ZM151.738 27V19.3636H153.224V27H151.738ZM152.488 18.1854C152.23 18.1854 152.008 18.0992 151.822 17.9268C151.64 17.7512 151.549 17.5424 151.549 17.3004C151.549 17.0552 151.64 16.8464 151.822 16.674C152.008 16.4983 152.23 16.4105 152.488 16.4105C152.747 16.4105 152.967 16.4983 153.15 16.674C153.335 16.8464 153.428 17.0552 153.428 17.3004C153.428 17.5424 153.335 17.7512 153.15 17.9268C152.967 18.0992 152.747 18.1854 152.488 18.1854ZM158.441 27.1541C157.701 27.1541 157.065 26.9867 156.531 26.652C156.001 26.3139 155.593 25.8482 155.308 25.255C155.023 24.6617 154.881 23.9822 154.881 23.2166C154.881 22.4411 155.027 21.7566 155.318 21.1634C155.61 20.5668 156.021 20.1011 156.551 19.7663C157.082 19.4316 157.706 19.2642 158.426 19.2642C159.006 19.2642 159.523 19.3719 159.977 19.5874C160.431 19.7995 160.797 20.0978 161.075 20.4822C161.357 20.8667 161.525 21.3158 161.578 21.8295H160.131C160.051 21.4716 159.869 21.1634 159.584 20.9048C159.302 20.6463 158.924 20.517 158.45 20.517C158.036 20.517 157.673 20.6264 157.362 20.8452C157.053 21.0606 156.813 21.3688 156.641 21.7699C156.468 22.1676 156.382 22.6383 156.382 23.1818C156.382 23.7386 156.467 24.2192 156.636 24.6236C156.805 25.0279 157.044 25.3411 157.352 25.5632C157.663 25.7853 158.03 25.8963 158.45 25.8963C158.732 25.8963 158.987 25.8449 159.216 25.7422C159.448 25.6361 159.642 25.4853 159.798 25.2898C159.957 25.0942 160.068 24.8589 160.131 24.5838H161.578C161.525 25.0777 161.364 25.5185 161.095 25.9062C160.827 26.294 160.467 26.599 160.017 26.821C159.569 27.0431 159.044 27.1541 158.441 27.1541ZM163.167 27V19.3636H164.654V27H163.167ZM163.918 18.1854C163.659 18.1854 163.437 18.0992 163.252 17.9268C163.069 17.7512 162.978 17.5424 162.978 17.3004C162.978 17.0552 163.069 16.8464 163.252 16.674C163.437 16.4983 163.659 16.4105 163.918 16.4105C164.176 16.4105 164.397 16.4983 164.579 16.674C164.765 16.8464 164.858 17.0552 164.858 17.3004C164.858 17.5424 164.765 17.7512 164.579 17.9268C164.397 18.0992 164.176 18.1854 163.918 18.1854ZM170.218 19.3636V20.5568H166.047V19.3636H170.218ZM167.166 17.5341H168.652V24.7578C168.652 25.0462 168.695 25.2633 168.781 25.4091C168.868 25.5516 168.979 25.6494 169.115 25.7024C169.254 25.7521 169.405 25.777 169.567 25.777C169.686 25.777 169.791 25.7687 169.88 25.7521C169.97 25.7356 170.039 25.7223 170.089 25.7124L170.357 26.9403C170.271 26.9735 170.149 27.0066 169.99 27.0398C169.83 27.0762 169.632 27.0961 169.393 27.0994C169.002 27.1061 168.637 27.0365 168.299 26.8906C167.961 26.7448 167.688 26.5194 167.479 26.2145C167.27 25.9096 167.166 25.5268 167.166 25.0661V17.5341ZM175.072 27.1541C174.319 27.1541 173.671 26.9934 173.128 26.6719C172.588 26.3471 172.17 25.8913 171.875 25.3047C171.583 24.7147 171.438 24.0237 171.438 23.2315C171.438 22.4493 171.583 21.7599 171.875 21.1634C172.17 20.5668 172.581 20.1011 173.108 19.7663C173.638 19.4316 174.258 19.2642 174.967 19.2642C175.398 19.2642 175.816 19.3355 176.22 19.478C176.625 19.6205 176.987 19.8442 177.309 20.1491C177.63 20.4541 177.884 20.8501 178.07 21.3374C178.255 21.8213 178.348 22.4096 178.348 23.1023V23.6293H172.278V22.5156H176.891C176.891 22.1245 176.812 21.7782 176.653 21.4766C176.494 21.1716 176.27 20.9313 175.982 20.7557C175.696 20.58 175.362 20.4922 174.977 20.4922C174.56 20.4922 174.195 20.5949 173.884 20.8004C173.575 21.0026 173.337 21.2678 173.168 21.5959C173.002 21.9207 172.919 22.2737 172.919 22.6548V23.5249C172.919 24.0353 173.009 24.4695 173.188 24.8274C173.37 25.1854 173.623 25.4588 173.948 25.6477C174.273 25.8333 174.652 25.9261 175.087 25.9261C175.368 25.9261 175.625 25.8864 175.857 25.8068C176.089 25.724 176.29 25.6013 176.459 25.4389C176.628 25.2765 176.757 25.076 176.847 24.8374L178.254 25.0909C178.141 25.5052 177.939 25.8681 177.647 26.1797C177.359 26.4879 176.996 26.7282 176.558 26.9006C176.124 27.0696 175.629 27.1541 175.072 27.1541ZM174.296 18.3445L175.46 16.0526H177.026L175.484 18.3445H174.296Z"
            fill="white" />
          <defs>
            <clipPath id="clip0_137_5954">
              <rect width="16" height="16" fill="white" transform="translate(24 14)" />
            </clipPath>
          </defs>
        </svg>

      </button>

    </div>
  </div>

  <!-- SECTION 2 -->
  <!-- GRID DES 3 CARTES PUBLICIT√âS -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">

    <!-- üüß CARD 1 : Publicit√©s totales -->
    <div class="bg-white rounded-2xl shadow-sm p-4 flex flex-col justify-between">
      <div class="flex items-start justify-between">
        <p class="text-xs text-gray-500">Publicit√©s</p>

        <div class="bg-white rounded-lg shadow p-1.5 flex items-center justify-center w-9 h-9">
          <span class="text-lg font-bold"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M21.41 11.58L12.41 2.58C12.05 2.22 11.55 2 11 2H4C2.9 2 2 2.9 2 4V11C2 11.55 2.22 12.05 2.59 12.42L11.59 21.42C11.95 21.78 12.45 22 13 22C13.55 22 14.05 21.78 14.41 21.41L21.41 14.41C21.78 14.05 22 13.55 22 13C22 12.45 21.77 11.94 21.41 11.58ZM13 20.01L4 11V4H11V3.99L20 12.99L13 20.01Z"
                fill="black" />
              <path
                d="M6.5 8C7.32843 8 8 7.32843 8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157 5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8Z"
                fill="black" />
            </svg>
          </span>
        </div>
      </div>

      <h2 class="text-xl font-bold text-[#111111]">{{ stats.total }}</h2>


      <div class="flex items-center gap-2 mt-2">
        <span class="text-xs text-[#64748B] font-light">Total</span>
      </div>
    </div>


    <!-- üü© CARD 2 : Publicit√©s actives -->
    <div class="bg-white rounded-2xl shadow-sm p-4 flex flex-col justify-between">
      <div class="flex items-start justify-between">
        <p class="text-xs text-gray-500">Publicit√©s actives</p>

        <div class="bg-white rounded-lg shadow p-1.5 flex items-center justify-center w-9 h-9">
          <span class="text-lg font-bold text-green-600">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M21.41 11.58L12.41 2.58C12.05 2.22 11.55 2 11 2H4C2.9 2 2 2.9 2 4V11C2 11.55 2.22 12.05 2.59 12.42L11.59 21.42C11.95 21.78 12.45 22 13 22C13.55 22 14.05 21.78 14.41 21.41L21.41 14.41C21.78 14.05 22 13.55 22 13C22 12.45 21.77 11.94 21.41 11.58ZM13 20.01L4 11V4H11V3.99L20 12.99L13 20.01Z"
                fill="#008D36" />
              <path
                d="M6.5 8C7.32843 8 8 7.32843 8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157 5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8Z"
                fill="#008D36" />
            </svg>

          </span>
        </div>
      </div>

      <h2 class="text-xl font-bold text-[#111111]">{{ stats.actives }}</h2>

      <!-- √Ä revoir: Evolution mensuelle (endpoint manquant)
      <div class="flex items-center gap-2 mt-2">
        <span class="text-green-600 font-bold text-sm">
          <svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M2.24191 0.194433C2.12129 0.315054 2.0474 0.482675 2.04764 0.666759L2.04764 0.747781C2.04764 1.11642 2.34607 1.41485 2.71423 1.41438L6.35657 1.41438L0.195165 7.57578C-0.0650507 7.836 -0.0650507 8.25837 0.195165 8.51859C0.45538 8.77881 0.877758 8.77881 1.13797 8.51859L7.29938 2.35719L7.29938 5.99952C7.29938 6.36816 7.59781 6.66659 7.96597 6.66612L8.047 6.66612C8.41563 6.66612 8.71406 6.36769 8.71359 5.99952L8.71359 0.666759C8.71359 0.298121 8.41516 -0.000307871 8.047 0.000163525L2.71423 0.000163287C2.52991 0.000163229 2.36253 0.0738129 2.24191 0.194433Z"
              fill="#008D36" />
          </svg>

        </span>
        <span class="text-xs font-light text-green-600 ml-1">+12%</span>
        <span class="text-xs text-[#64748B] font-light ml-2">ce mois</span>
      </div>
      -->
    </div>

    <!-- üü• CARD 3 : Publicit√©s inactives -->
    <div class="bg-white rounded-2xl shadow-sm p-4 flex flex-col justify-between">
      <div class="flex items-start justify-between">
        <p class="text-xs text-gray-500">Publicit√©s inactives</p>

        <div class="bg-white rounded-lg shadow p-1.5 flex items-center justify-center w-9 h-9">
          <span class="text-lg font-bold text-orange-500">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M21.41 11.58L12.41 2.58C12.05 2.22 11.55 2 11 2H4C2.9 2 2 2.9 2 4V11C2 11.55 2.22 12.05 2.59 12.42L11.59 21.42C11.95 21.78 12.45 22 13 22C13.55 22 14.05 21.78 14.41 21.41L21.41 14.41C21.78 14.05 22 13.55 22 13C22 12.45 21.77 11.94 21.41 11.58ZM13 20.01L4 11V4H11V3.99L20 12.99L13 20.01Z"
                fill="#E95F32" />
              <path
                d="M6.5 8C7.32843 8 8 7.32843 8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157 5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8Z"
                fill="#E95F32" />
            </svg>

          </span>
        </div>
      </div>

      <h2 class="text-xl font-bold text-[#111111]">{{ stats.inactives }}</h2>

      <!-- √Ä revoir: Evolution mensuelle (endpoint manquant)
      <div class="flex items-center gap-2 mt-2">
        <span class="text-green-600 font-bold text-sm">
          <svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M2.24191 0.194433C2.12129 0.315054 2.0474 0.482675 2.04764 0.666759L2.04764 0.747781C2.04764 1.11642 2.34607 1.41485 2.71423 1.41438L6.35657 1.41438L0.195165 7.57578C-0.0650507 7.836 -0.0650507 8.25837 0.195165 8.51859C0.45538 8.77881 0.877758 8.77881 1.13797 8.51859L7.29938 2.35719L7.29938 5.99952C7.29938 6.36816 7.59781 6.66659 7.96597 6.66612L8.047 6.66612C8.41563 6.66612 8.71406 6.36769 8.71359 5.99952L8.71359 0.666759C8.71359 0.298121 8.41516 -0.000307871 8.047 0.000163525L2.71423 0.000163287C2.52991 0.000163229 2.36253 0.0738129 2.24191 0.194433Z"
              fill="#008D36" />
          </svg>
        </span>
        <span class="text-xs font-light text-green-600 ml-1">+12%</span>
        <span class="text-xs text-[#64748B] font-light ml-2">ce mois</span>
      </div>
      -->
    </div>

  </div>




  <!-- ========================= -->
  <!--   BARRE RECHERCHE/FILTRE  -->
  <!-- ========================= -->
  <div class="bg-white rounded-xl shadow-sm p-5 mt-5 mb-6">

    <div class="w-full mb-5 flex flex-col lg:flex-row items-center justify-between gap-3">

      <!-- Champ de recherche -->
      <div class="flex items-center w-full lg:w-auto border border-gray-300 rounded-lg px-3 py-2 bg-white">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2">
          <path
            d="M13.1539 12.2073L10.6806 9.75393C11.6407 8.55687 12.1056 7.03747 11.9798 5.50813C11.854 3.9788 11.147 2.55579 10.0043 1.5317C8.86151 0.507604 7.3698 -0.0397263 5.83588 0.00224731C4.30196 0.0442209 2.84241 0.672308 1.75736 1.75736C0.672308 2.84241 0.0442209 4.30196 0.00224731 5.83588C-0.0397263 7.3698 0.507604 8.86151 1.5317 10.0043C2.55579 11.147 3.9788 11.854 5.50813 11.9798C7.03747 12.1056 8.55687 11.6407 9.75393 10.6806L12.2073 13.1339C12.2692 13.1964 12.343 13.246 12.4242 13.2799C12.5055 13.3137 12.5926 13.3311 12.6806 13.3311C12.7686 13.3311 12.8557 13.3137 12.937 13.2799C13.0182 13.246 13.092 13.1964 13.1539 13.1339C13.2741 13.0096 13.3413 12.8435 13.3413 12.6706C13.3413 12.4977 13.2741 12.3316 13.1539 12.2073ZM6.01393 10.6806C5.09095 10.6806 4.1887 10.4069 3.42127 9.89412C2.65384 9.38134 2.0557 8.65251 1.7025 7.79979C1.34929 6.94707 1.25687 6.00876 1.43694 5.10351C1.617 4.19827 2.06146 3.36675 2.7141 2.7141C3.36675 2.06146 4.19827 1.617 5.10351 1.43694C6.00876 1.25687 6.94707 1.34929 7.79979 1.7025C8.65251 2.0557 9.38134 2.65384 9.89412 3.42127C10.4069 4.1887 10.6806 5.09095 10.6806 6.01393C10.6806 7.25161 10.1889 8.43859 9.31376 9.31376C8.43859 10.1889 7.25161 10.6806 6.01393 10.6806Z"
            fill="#777777" />
        </svg>
        <input type="text" [(ngModel)]="searchText" placeholder="Rechercher une publicit√©"
          class="w-full outline-none text-sm" />
      </div>

      <!-- Filtres -->
      <div class="flex items-center gap-3">

        <!-- Filtre Permanence avec Dropdown -->
        <div class="relative">
          <button (click)="togglePermanentFilter()"
            class="border border-gray-300 rounded-lg px-4 py-2 bg-white text-sm flex items-center gap-2 font-medium text-[#333333] hover:bg-gray-50 transition-colors">
            <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.625 0.625H13.125M2.70833 4.79167H11.0417M5.20833 8.95833H8.54167" stroke="#777777"
                stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            {{ getPermanentFilterLabel() }}
            <svg class="ml-1" width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 1L5 5L9 1" stroke="#777777" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </button>

          <!-- Dropdown -->
          <div *ngIf="showPermanentDropdown"
            class="absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[200px]">
            <button (click)="setPermanentFilter('all')"
              class="w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors"
              [class.bg-gray-100]="permanentFilter === 'all'">
              Tous les statuts
            </button>
            <button (click)="setPermanentFilter('permanent')"
              class="w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors flex items-center gap-2"
              [class.bg-gray-100]="permanentFilter === 'permanent'">
              <span class="w-2 h-2 rounded-full bg-green-600"></span>
              Permanent
            </button>
            <button (click)="setPermanentFilter('non-permanent')"
              class="w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors flex items-center gap-2"
              [class.bg-gray-100]="permanentFilter === 'non-permanent'">
              <span class="w-2 h-2 rounded-full bg-gray-500"></span>
              Non permanent
            </button>
          </div>
        </div>

      </div>

    </div>

    <!-- ========================= -->
    <!-- üßæ TABLEAU DES PUBLICIT√âS -->
    <!-- ========================= -->
    <div class="bg-white rounded-xl overflow-x-auto border border-gray-200">

      <table class="w-full min-w-max">
        <thead class="bg-gray-50">
          <tr class="text-left text-xs font-medium text-gray-600 border-b border-gray-200">
            <th class="py-3 px-3 font-medium" style="min-width: 280px;">Titre</th>

            <!-- COLONNES NON DISPONIBLES DANS L'API -->
            <!-- <th class="py-3 px-3 font-medium" style="min-width: 70px;">Vues</th> -->
            <!-- <th class="py-3 px-3 font-medium" style="min-width: 70px;">Clics</th> -->
            <!-- <th class="py-3 px-3 font-medium" style="min-width: 70px;">Cibles</th> -->
            <!-- <th class="py-3 px-3 font-medium" style="min-width: 100px;">Taux de conv.</th> -->

            <th class="py-3 px-3 font-medium" style="min-width: 180px;">P√©riode</th>
            <th class="py-3 px-3 font-medium" style="min-width: 100px;">Permanent</th>
            <th class="py-3 px-3 font-medium" style="min-width: 100px;">Actions</th>
          </tr>
        </thead>

        <tbody class="bg-white divide-y divide-gray-100">

          <!-- Loading state -->
          <tr *ngIf="loading">
            <td colspan="4" class="py-8 text-center text-gray-500">
              Chargement...
            </td>
          </tr>

          <!-- Empty state -->
          <tr *ngIf="!loading && filteredPubs.length === 0">
            <td colspan="4" class="py-12 text-center">
              <div class="flex flex-col items-center justify-center gap-3">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z"
                    stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  <path
                    d="M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z"
                    stroke="#9CA3AF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M21 15L16 10L5 21" stroke="#9CA3AF" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
                <div class="text-gray-600">
                  <p class="font-semibold mb-1">Aucune publicit√© pour l'instant</p>
                  <p class="text-sm text-gray-500">Cliquez sur "Ajouter une publicit√©" pour en cr√©er une nouvelle.</p>
                </div>
              </div>
            </td>
          </tr>

          <!-- Data rows -->
          <ng-container *ngIf="!loading">
            <tr *ngFor="let pub of filteredPubs" class="hover:bg-gray-50 transition-colors">

              <!-- TITRE avec image et description -->
              <td class="py-3 px-3">
                <div class="flex items-center gap-2">
                  <img [src]="getImageUrl(pub.webImg || pub.image)"
                    class="w-16 h-10 rounded-lg object-cover flex-shrink-0" />
                  <div class="min-w-0 max-w-[200px]">
                    <p class="font-medium text-xs text-[#111111] truncate">{{ pub.title || pub.titre }}</p>
                    <p class="text-[10px] text-gray-500 truncate">{{ pub.description }}</p>
                  </div>
                </div>
              </td>

              <!-- COLONNES NON DISPONIBLES DANS L'API -->
              <!-- <td class="py-3 px-3 text-xs text-[#111111]">{{ pub.vues || 0 }}</td> -->
              <!-- <td class="py-3 px-3 text-xs text-[#111111]">{{ pub.clics || 0 }}</td> -->
              <!-- <td class="py-3 px-3 text-xs text-[#111111]">{{ pub.cibles || 'N/A' }}</td> -->
              <!-- <td class="py-3 px-3 text-xs text-[#111111]">{{ pub.taux || 0 }}%</td> -->

              <!-- P√âRIODE -->
              <td class="py-3 px-3 text-xs text-gray-500 whitespace-nowrap">{{ formatPeriode(pub) }}</td>

              <!-- PERMANENT -->
              <td class="py-3 px-3">
                <span
                  class="px-2 py-1 rounded-full text-[10px] font-medium inline-flex items-center gap-1 whitespace-nowrap"
                  [ngClass]="pub.permanent ? 'bg-green-50 text-green-700' : 'bg-gray-50 text-gray-700'">
                  <span class="w-1.5 h-1.5 rounded-full"
                    [ngClass]="pub.permanent ? 'bg-green-600' : 'bg-gray-500'"></span>
                  {{ pub.permanent ? "Oui" : "Non" }}
                </span>
              </td>

              <!-- ACTIONS -->
              <td class="py-3 px-3">
                <div class="flex items-center gap-6">

                  <!-- Modifier (crayon) -->
                  <button (click)="openEditPopup(pub)" class="text-gray-600 hover:opacity-70 transition-opacity"
                    title="Modifier">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M15.1823 0.183617C15.2403 0.125413 15.3093 0.0792346 15.3852 0.0477266C15.4611 0.0162185 15.5425 0 15.6248 0C15.707 0 15.7884 0.0162185 15.8643 0.0477266C15.9402 0.0792346 16.0092 0.125413 16.0673 0.183617L19.8173 3.93362C19.8755 3.99167 19.9216 4.06064 19.9531 4.13657C19.9847 4.21251 20.0009 4.29391 20.0009 4.37612C20.0009 4.45833 19.9847 4.53973 19.9531 4.61566C19.9216 4.69159 19.8755 4.76056 19.8173 4.81862L7.31726 17.3186C7.25728 17.3782 7.18583 17.425 7.10726 17.4561L0.857258 19.9561C0.743678 20.0016 0.619252 20.0127 0.499407 19.9881C0.379562 19.9635 0.269567 19.9043 0.183058 19.8178C0.0965504 19.7313 0.0373335 19.6213 0.0127492 19.5015C-0.0118351 19.3816 -0.000705742 19.2572 0.0447576 19.1436L2.54476 12.8936C2.57592 12.815 2.62269 12.7436 2.68226 12.6836L15.1823 0.183617ZM14.0085 3.12612L16.8748 5.99237L18.491 4.37612L15.6248 1.50987L14.0085 3.12612ZM15.991 6.87612L13.1248 4.00987L4.99976 12.1349V12.5011H5.62476C5.79052 12.5011 5.94949 12.567 6.0667 12.6842C6.18391 12.8014 6.24976 12.9604 6.24976 13.1261V13.7511H6.87476C7.04052 13.7511 7.19949 13.817 7.3167 13.9342C7.43391 14.0514 7.49976 14.2104 7.49976 14.3761V15.0011H7.86601L15.991 6.87612ZM3.78976 13.3449L3.65726 13.4774L1.74726 18.2536L6.52351 16.3436L6.65601 16.2111C6.53678 16.1666 6.434 16.0867 6.3614 15.9821C6.2888 15.8776 6.24985 15.7534 6.24976 15.6261V15.0011H5.62476C5.459 15.0011 5.30003 14.9353 5.18282 14.8181C5.06561 14.7008 4.99976 14.5419 4.99976 14.3761V13.7511H4.37476C4.24748 13.751 4.12327 13.7121 4.01873 13.6395C3.91419 13.5669 3.8343 13.4641 3.78976 13.3449Z"
                        fill="#4B4848" />
                    </svg>
                  </button>

                  <!-- Supprimer (corbeille) -->
                  <button (click)="openDeleteConfirmation(pub)" class="text-red-600 hover:opacity-70 transition-opacity"
                    title="Supprimer">
                    <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M6.875 1.25H10.625C10.7908 1.25 10.9497 1.31585 11.0669 1.43306C11.1842 1.55027 11.25 1.70924 11.25 1.875V3.125H6.25V1.875C6.25 1.70924 6.31585 1.55027 6.43306 1.43306C6.55027 1.31585 6.70924 1.25 6.875 1.25ZM12.5 3.125V1.875C12.5 1.37772 12.3025 0.900805 11.9508 0.549175C11.5992 0.197544 11.1223 0 10.625 0L6.875 0C6.37772 0 5.90081 0.197544 5.54917 0.549175C5.19754 0.900805 5 1.37772 5 1.875V3.125H0.625C0.45924 3.125 0.300268 3.19085 0.183058 3.30806C0.065848 3.42527 0 3.58424 0 3.75C0 3.91576 0.065848 4.07473 0.183058 4.19194C0.300268 4.30915 0.45924 4.375 0.625 4.375H1.2975L2.36375 17.7C2.41403 18.3265 2.69844 18.9111 3.16034 19.3373C3.62224 19.7635 4.22774 20.0001 4.85625 20H12.6437C13.2723 20.0001 13.8778 19.7635 14.3397 19.3373C14.8016 18.9111 15.086 18.3265 15.1363 17.7L16.2025 4.375H16.875C17.0408 4.375 17.1997 4.30915 17.3169 4.19194C17.4342 4.07473 17.5 3.91576 17.5 3.75C17.5 3.58424 17.4342 3.42527 17.3169 3.30806C17.1997 3.19085 17.0408 3.125 16.875 3.125H12.5ZM14.9475 4.375L13.89 17.6C13.8649 17.9132 13.7227 18.2055 13.4917 18.4186C13.2608 18.6318 12.958 18.7501 12.6437 18.75H4.85625C4.542 18.7501 4.23925 18.6318 4.0083 18.4186C3.77735 18.2055 3.63514 17.9132 3.61 17.6L2.5525 4.375H14.9475ZM5.58875 5.625C5.75417 5.61544 5.91661 5.67195 6.04037 5.78212C6.16413 5.89229 6.23908 6.04709 6.24875 6.2125L6.87375 16.8375C6.88032 17.001 6.82252 17.1605 6.71277 17.2818C6.60302 17.4032 6.45007 17.4766 6.28676 17.4865C6.12345 17.4963 5.9628 17.4417 5.8393 17.3344C5.71581 17.227 5.63932 17.0756 5.62625 16.9125L5 6.2875C4.99493 6.20539 5.00611 6.12309 5.03291 6.04531C5.05972 5.96754 5.10161 5.89581 5.15619 5.83426C5.21077 5.77271 5.27697 5.72255 5.35098 5.68664C5.425 5.65072 5.50537 5.62978 5.5875 5.625H5.58875ZM11.9113 5.625C11.9934 5.62978 12.0738 5.65072 12.1478 5.68664C12.2218 5.72255 12.288 5.77271 12.3426 5.83426C12.3971 5.89581 12.439 5.96754 12.4658 6.04531C12.4926 6.12309 12.5038 6.20539 12.4987 6.2875L11.8737 16.9125C11.8704 16.9956 11.8505 17.0771 11.8153 17.1524C11.7801 17.2277 11.7302 17.2952 11.6685 17.3509C11.6069 17.4067 11.5347 17.4496 11.4563 17.4771C11.3779 17.5047 11.2947 17.5163 11.2117 17.5113C11.1288 17.5063 11.0476 17.4848 10.9731 17.4481C10.8985 17.4113 10.832 17.3601 10.7775 17.2974C10.723 17.2346 10.6815 17.1616 10.6555 17.0827C10.6296 17.0037 10.6196 16.9204 10.6263 16.8375L11.2513 6.2125C11.2609 6.04709 11.3359 5.89229 11.4596 5.78212C11.5834 5.67195 11.7458 5.61544 11.9113 5.625ZM8.75 5.625C8.91576 5.625 9.07473 5.69085 9.19194 5.80806C9.30915 5.92527 9.375 6.08424 9.375 6.25V16.875C9.375 17.0408 9.30915 17.1997 9.19194 17.3169C9.07473 17.4342 8.91576 17.5 8.75 17.5C8.58424 17.5 8.42527 17.4342 8.30806 17.3169C8.19085 17.1997 8.125 17.0408 8.125 16.875V6.25C8.125 6.08424 8.19085 5.92527 8.30806 5.80806C8.42527 5.69085 8.58424 5.625 8.75 5.625Z"
                        fill="#E94E1B" />
                    </svg>
                  </button>

                </div>
              </td>

            </tr>
          </ng-container>

        </tbody>
      </table>

    </div>

    <!-- ========================= -->
    <!-- üî¢ PAGINATION -->
    <!-- ========================= -->
    <div class="bg-white rounded-xl p-4 flex justify-between items-center mt-4">

      <!-- √âl√©ments par page -->
      <div class="flex items-center gap-2 text-sm text-gray-600">
        <span>√©l√©ments par page:</span>
        <select class="border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:outline-none" [(ngModel)]="pageSize">
          <option>10</option>
          <option>20</option>
          <option>50</option>
        </select>
      </div>

      <!-- Info pagination + fl√®ches -->
      <div class="flex items-center gap-4 text-sm text-gray-700">
        <span>{{ page }} - {{ totalPages }} sur {{ filteredPubs.length }}</span>

        <div class="flex items-center gap-2">
          <!-- Fl√®che gauche -->
          <button (click)="prevPage()" class="text-gray-400 hover:text-gray-600 p-1 disabled:opacity-30">
            <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
              <path d="M12 15L7 10L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </button>

          <!-- Fl√®che droite -->
          <button (click)="nextPage()" class="text-gray-400 hover:text-gray-600 p-1 disabled:opacity-30">
            <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
              <path d="M8 5L13 10L8 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </button>
        </div>

      </div>

    </div>

  </div>
</div>


<!-- POPUP : CR√âER UNE PUBLICIT√â -->
<div *ngIf="showCreatePopup" class="fixed inset-0 z-50 flex items-center justify-center bg-black/40">
  <div class="bg-white rounded-2xl w-[380px] p-5 shadow-xl">

    <!-- HEADER -->
    <div class="flex justify-between items-center mb-5">
      <h2 class="text-lg font-semibold">Cr√©er une publicit√©</h2>

      <button (click)="closeCreatePopup()" class="text-gray-400 hover:text-gray-600 text-xl">
        ‚úï
      </button>
    </div>

    <!-- ================= FORMULAIRE ================= -->
    <form #f="ngForm" class="space-y-4">

      <!-- TITRE -->
      <div>
        <label class="text-sm font-medium text-gray-700">
          Titre <span class="text-red-500">*</span>
        </label>

        <input name="title" [(ngModel)]="pubForm.titre" required minlength="3" #title="ngModel" type="text"
          placeholder="Ex: Promotion Mat√©riaux" class="w-full mt-1 border rounded-md px-3 h-11 text-sm
                 focus:outline-none focus:ring-2 focus:ring-[#FF5C02]" />

        <p *ngIf="title.touched && title.invalid" class="text-xs text-red-500 mt-1">
          Titre obligatoire (minimum 3 caract√®res).
        </p>
      </div>

      <!-- DESCRIPTION -->
      <div>
        <label class="text-sm font-medium text-gray-700">
          Description <span class="text-red-500">*</span>
        </label>

        <textarea name="description" [(ngModel)]="pubForm.description" required minlength="10" maxlength="500"
          #description="ngModel" class="w-full mt-1 border rounded-md px-3 py-2 text-sm resize-none
                 focus:outline-none focus:ring-2 focus:ring-[#FF5C02]" placeholder="D√©crivez la publicit√©">
        </textarea>

        <p *ngIf="description.touched && description.invalid" class="text-xs text-red-500 mt-1">
          Description obligatoire (10 √† 500 caract√®res).
        </p>
      </div>

      <!-- LIEN -->
      <div>
        <label class="text-sm font-medium text-gray-700">
          Lien <span class="text-red-500">*</span>
        </label>

        <input name="link" [(ngModel)]="pubForm.lien" required pattern="https?://.+" #link="ngModel" type="text"
          placeholder="https://www.example.com" class="w-full mt-1 border rounded-md px-3 h-11 text-sm
                 focus:outline-none focus:ring-2 focus:ring-[#FF5C02]" />

        <p *ngIf="link.touched && link.invalid" class="text-xs text-red-500 mt-1">
          Lien valide requis (http ou https).
        </p>
      </div>

      <!-- IMAGE WEB -->
      <div>
        <label class="text-sm font-medium text-gray-700">
          Image (Web) <span class="text-red-500">*</span>
        </label>

        <label class="mt-1 flex items-center gap-3 px-3 h-12
                 border border-dashed border-[#FF5C02]
                 rounded-md cursor-pointer">
          <span class="text-[#FF5C02] font-medium text-sm">
            Choisir une image
          </span>

          <input type="file" accept="image/png,image/jpeg,image/jpg" required (change)="onFileSelected($event, 'web')"
            class="hidden" />

          <span class="ml-auto text-xs text-gray-500 truncate">
            {{ pubForm.imageName || 'Aucun fichier choisi' }}
          </span>
        </label>
      </div>

      <!-- IMAGE MOBILE -->
      <div>
        <label class="text-sm font-medium text-gray-700">
          Image (Mobile) <span class="text-red-500">*</span>
        </label>

        <label class="mt-1 flex items-center gap-3 px-3 h-12
                 border border-dashed border-[#FF5C02]
                 rounded-md cursor-pointer">
          <span class="text-[#FF5C02] font-medium text-sm">
            Choisir une image
          </span>

          <input type="file" accept="image/png,image/jpeg,image/jpg" required
            (change)="onFileSelected($event, 'mobile')" class="hidden" />

          <span class="ml-auto text-xs text-gray-500 truncate">
            {{ pubForm.mobileImageName || 'Aucun fichier choisi' }}
          </span>
        </label>
      </div>

      <!-- DATES -->
      <div>
        <label class="text-sm font-medium text-gray-700">
          P√©riode d'affichage
          <span *ngIf="!pubForm.permanent" class="text-red-500">*</span>
          <span *ngIf="pubForm.permanent" class="text-xs text-gray-500">(optionnel si permanent)</span>
        </label>

        <div class="flex gap-3 mt-1">
          <input type="date" name="startDate" [(ngModel)]="pubForm.dateDebut" [required]="!pubForm.permanent"
            #startDate="ngModel" class="w-full border rounded-md px-3 h-11 text-sm
                   focus:outline-none focus:ring-2 focus:ring-[#FF5C02]" placeholder="Date d√©but" />

          <input type="date" name="endDate" [(ngModel)]="pubForm.dateFin" [required]="!pubForm.permanent"
            #endDate="ngModel" class="w-full border rounded-md px-3 h-11 text-sm
                   focus:outline-none focus:ring-2 focus:ring-[#FF5C02]" placeholder="Date fin" />
        </div>

        <p *ngIf="(startDate.touched || endDate.touched) &&
                  (startDate.invalid || endDate.invalid) && !pubForm.permanent" class="text-xs text-red-500 mt-1">
          Dates de d√©but et de fin obligatoires.
        </p>
      </div>

      <!-- PERMANENT -->
      <div class="flex items-center gap-2">
        <input type="checkbox" name="permanent" [(ngModel)]="pubForm.permanent" class="accent-[#FF5C02]" />
        <span class="text-sm text-gray-700">
          Publicit√© permanente
        </span>
      </div>

      <!-- ACTIONS -->
      <div class="flex gap-3 pt-3">
        <button type="button" (click)="submitPub()" [disabled]="f.invalid" class="flex-1 h-11 bg-[#FF5C02] text-white rounded-md
                 text-sm font-medium disabled:opacity-50">
          Enregistrer
        </button>

        <button type="button" (click)="closeCreatePopup()" class="flex-1 h-11 bg-gray-100 text-gray-600 rounded-md
                 text-sm font-medium">
          Annuler
        </button>
      </div>

    </form>
  </div>
</div>





<!-- POPUP SUCCESS
<div *ngIf="showSuccessCreate"
     class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">

  <div class="bg-white rounded-2xl w-[360px] p-8 text-center flex flex-col items-center justify-center">


   <svg width="80" height="80" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M70.2452 34.0264C70.9106 34.7294 71.27 35.6677 71.2443 36.6353C71.2186 37.6029 70.81 38.5208 70.1082 39.1875L43.3438 64.7644C42.6518 65.4153 41.736 65.7751 40.7861 65.7692C39.8501 65.7728 38.9494 65.4125 38.2741 64.7644L24.8918 51.976C24.5207 51.6521 24.2188 51.2566 24.0044 50.8131C23.79 50.3696 23.6675 49.8874 23.6442 49.3954C23.6209 48.9033 23.6973 48.4117 23.8689 47.9499C24.0405 47.4882 24.3037 47.0659 24.6426 46.7085C24.9816 46.3511 25.3893 46.0659 25.8413 45.87C26.2932 45.6742 26.7801 45.5718 27.2727 45.5689C27.7653 45.566 28.2534 45.6628 28.7076 45.8534C29.1618 46.044 29.5728 46.3244 29.9159 46.6779L40.7861 57.0457L65.0841 33.8894C65.7871 33.224 66.7254 32.8646 67.693 32.8903C68.6606 32.916 69.5785 33.3246 70.2452 34.0264ZM95 47.5C95 56.8946 92.2142 66.0782 86.9948 73.8896C81.7754 81.7009 74.357 87.7891 65.6775 91.3843C56.998 94.9794 47.4473 95.9201 38.2332 94.0873C29.0191 92.2545 20.5554 87.7305 13.9124 81.0876C7.26945 74.4446 2.74552 65.9809 0.91272 56.7668C-0.920077 47.5527 0.020581 38.002 3.61574 29.3225C7.2109 20.643 13.2991 13.2246 21.1104 8.00519C28.9218 2.78583 38.1054 0 47.5 0C60.0904 0.0241427 72.1582 5.03635 81.0609 13.9391C89.9637 22.8418 94.9759 34.9096 95 47.5ZM87.6923 47.5C87.6923 39.5507 85.3351 31.7799 80.9187 25.1703C76.5023 18.5608 70.2251 13.4092 62.8809 10.3671C55.5368 7.32509 47.4554 6.52915 39.6589 8.07997C31.8623 9.6308 24.7008 13.4587 19.0798 19.0797C13.4588 24.7007 9.63082 31.8623 8.08 39.6589C6.52917 47.4554 7.32511 55.5367 10.3672 62.8809C13.4092 70.2251 18.5608 76.5023 25.1704 80.9187C31.78 85.3351 39.5507 87.6923 47.5 87.6923C58.156 87.6802 68.372 83.4418 75.9069 75.9069C83.4418 68.372 87.6802 58.1559 87.6923 47.5Z" fill="#98CC04"/>
</svg>


    <p class="text-lg font-medium text-gray-700">
      Publicit√© cr√©√©e avec succ√®s !
    </p>

  </div>

</div>
-->














<!-- ============================== -->
<!-- üî• POPUPS -->
<!-- ============================== -->

<!-- POPUP MODIFICATION -->
<div *ngIf="showEditPopup && editPub" class="fixed inset-0 z-50 flex items-center justify-center bg-black/40">
  <div class="bg-white rounded-2xl w-[720px] p-6 shadow-xl max-h-[90vh] overflow-y-auto">

    <!-- Header -->
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-semibold flex-1 text-center">
        Modifier la publicit√©
      </h2>

      <button (click)="closeEditPopup()" class="text-gray-400 hover:text-gray-600 text-xl">
        ‚úï
      </button>
    </div>

    <!-- FORMULAIRE -->
    <form #fEdit="ngForm">

      <div class="space-y-5">

        <!-- TITRE -->
        <div>
          <label class="text-sm font-medium text-gray-700 mb-2 block">
            Titre <span class="text-red-500">*</span>
          </label>
          <input type="text" name="title" [(ngModel)]="editPub.title" required #titleEdit="ngModel" class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                   focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="Ex : Promotion √©t√© 2026">

          <p *ngIf="titleEdit.touched && titleEdit.invalid" class="text-xs text-red-500 mt-1">
            Le titre est obligatoire.
          </p>
        </div>

        <!-- DESCRIPTION -->
        <div>
          <label class="text-sm font-medium text-gray-700 mb-2 block">
            Description <span class="text-red-500">*</span>
          </label>
          <textarea name="description" [(ngModel)]="editPub.description" required #descriptionEdit="ngModel" rows="3"
            class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                   resize-none focus:outline-none focus:ring-2 focus:ring-orange-500"
            placeholder="Description de la publicit√©">
          </textarea>

          <p *ngIf="descriptionEdit.touched && descriptionEdit.invalid" class="text-xs text-red-500 mt-1">
            La description est obligatoire.
          </p>
        </div>

        <!-- LIEN -->
        <div>
          <label class="text-sm font-medium text-gray-700 mb-2 block">
            Lien (URL)
          </label>
          <input type="url" name="link" [(ngModel)]="editPub.link" #linkEdit="ngModel" class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                   focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="https://example.com">

          <p *ngIf="linkEdit.touched && linkEdit.invalid" class="text-xs text-red-500 mt-1">
            URL invalide.
          </p>
        </div>

        <!-- PERMANENT -->
        <div class="flex items-center gap-2">
          <input type="checkbox" id="permanentEdit" name="permanent" [(ngModel)]="editPub.permanent"
            class="w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500">
          <label for="permanentEdit" class="text-sm text-gray-700">
            Publicit√© permanente (sans date de fin)
          </label>
        </div>

        <!-- DATES (si non permanent) -->
        <div *ngIf="!editPub.permanent" class="grid grid-cols-2 gap-4">
          <!-- Date de d√©but -->
          <div>
            <label class="text-sm font-medium text-gray-700 mb-2 block">
              Date de d√©but <span class="text-red-500">*</span>
            </label>
            <input type="date" name="startDate" [(ngModel)]="editPub.startDateInput" [required]="!editPub.permanent"
              #startDateEdit="ngModel" class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                     focus:outline-none focus:ring-2 focus:ring-orange-500">

            <p *ngIf="startDateEdit.touched && startDateEdit.invalid" class="text-xs text-red-500 mt-1">
              Date de d√©but obligatoire.
            </p>
          </div>

          <!-- Date de fin -->
          <div>
            <label class="text-sm font-medium text-gray-700 mb-2 block">
              Date de fin <span class="text-red-500">*</span>
            </label>
            <input type="date" name="endDate" [(ngModel)]="editPub.endDateInput" [required]="!editPub.permanent"
              #endDateEdit="ngModel" class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                     focus:outline-none focus:ring-2 focus:ring-orange-500">

            <p *ngIf="endDateEdit.touched && endDateEdit.invalid" class="text-xs text-red-500 mt-1">
              Date de fin obligatoire.
            </p>
          </div>
        </div>

        <!-- IMAGE WEB -->
        <div>
          <label class="text-sm font-medium text-gray-700 mb-2 block">
            Image Web
          </label>

          <!-- Pr√©visualisation actuelle -->
          <div *ngIf="editPub.webImg && !editWebImagePreview" class="mb-3">
            <p class="text-xs text-gray-500 mb-2">Image actuelle :</p>
            <img [src]="getImageUrl(editPub.webImg)" class="w-32 h-20 rounded-lg object-cover border">
          </div>

          <!-- Nouvelle image -->
          <div *ngIf="editWebImagePreview" class="mb-3">
            <p class="text-xs text-gray-500 mb-2">Nouvelle image :</p>
            <img [src]="editWebImagePreview" class="w-32 h-20 rounded-lg object-cover border">
          </div>

          <input type="file" accept="image/*" (change)="onEditFileSelected($event, 'web')" class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                   focus:outline-none focus:ring-2 focus:ring-orange-500">
        </div>

        <!-- IMAGE MOBILE -->
        <div>
          <label class="text-sm font-medium text-gray-700 mb-2 block">
            Image Mobile
          </label>

          <!-- Pr√©visualisation actuelle -->
          <div *ngIf="editPub.mobileImg && !editMobileImagePreview" class="mb-3">
            <p class="text-xs text-gray-500 mb-2">Image actuelle :</p>
            <img [src]="getImageUrl(editPub.mobileImg)" class="w-32 h-20 rounded-lg object-cover border">
          </div>

          <!-- Nouvelle image -->
          <div *ngIf="editMobileImagePreview" class="mb-3">
            <p class="text-xs text-gray-500 mb-2">Nouvelle image :</p>
            <img [src]="editMobileImagePreview" class="w-32 h-20 rounded-lg object-cover border">
          </div>

          <input type="file" accept="image/*" (change)="onEditFileSelected($event, 'mobile')" class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm
                   focus:outline-none focus:ring-2 focus:ring-orange-500">
        </div>

      </div>

      <!-- ACTIONS -->
      <div class="flex justify-start mt-8 gap-4">
        <button type="button" (click)="saveEditPub()" [disabled]="fEdit.invalid" class="px-8 py-2.5 rounded-lg bg-[#E95F32] text-white font-medium
                 hover:bg-[#d15528] transition-colors disabled:opacity-50">
          Mettre √† jour
        </button>

        <button type="button" (click)="closeEditPopup()" class="px-8 py-2.5 rounded-lg border border-gray-300 text-gray-700
                 font-medium hover:bg-gray-50 transition-colors">
          Annuler
        </button>
      </div>

    </form>

  </div>
</div>

<!-- ============================== -->

<!-- SUCCESS ACTIVER
<div
  *ngIf="showSuccessActivate"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"
>
  <div class="bg-white rounded-2xl shadow-xl px-10 py-12 w-[460px] text-center">

    <div class="w-20 h-20 mx-auto mb-6 flex items-center justify-center">
      <svg width="95" height="95" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M70.2452 34.0264C70.9106 34.7294 71.27 35.6677 71.2443 36.6353C71.2186 37.6029 70.81 38.5208 70.1082 39.1875L43.3438 64.7644C42.6518 65.4153 41.736 65.7751 40.7861 65.7692C39.8501 65.7728 38.9494 65.4125 38.2741 64.7644L24.8918 51.976C24.5207 51.6521 24.2188 51.2566 24.0044 50.8131C23.79 50.3696 23.6675 49.8874 23.6442 49.3954C23.6209 48.9033 23.6973 48.4117 23.8689 47.9499C24.0405 47.4882 24.3037 47.0659 24.6426 46.7085C24.9816 46.3511 25.3893 46.0659 25.8413 45.87C26.2932 45.6742 26.7801 45.5718 27.2727 45.5689C27.7653 45.566 28.2534 45.6628 28.7076 45.8534C29.1618 46.044 29.5728 46.3244 29.9159 46.6779L40.7861 57.0457L65.0841 33.8894C65.7871 33.224 66.7254 32.8646 67.693 32.8903C68.6606 32.916 69.5785 33.3246 70.2452 34.0264ZM95 47.5C95 56.8946 92.2142 66.0782 86.9948 73.8896C81.7754 81.7009 74.357 87.7891 65.6775 91.3843C56.998 94.9794 47.4473 95.9201 38.2332 94.0873C29.0191 92.2545 20.5554 87.7305 13.9124 81.0876C7.26945 74.4446 2.74552 65.9809 0.91272 56.7668C-0.920077 47.5527 0.020581 38.002 3.61574 29.3225C7.2109 20.643 13.2991 13.2246 21.1104 8.00519C28.9218 2.78583 38.1054 0 47.5 0C60.0904 0.0241427 72.1582 5.03635 81.0609 13.9391C89.9637 22.8418 94.9759 34.9096 95 47.5ZM87.6923 47.5C87.6923 39.5507 85.3351 31.7799 80.9187 25.1703C76.5023 18.5608 70.2251 13.4092 62.8809 10.3671C55.5368 7.32509 47.4554 6.52915 39.6589 8.07997C31.8623 9.6308 24.7008 13.4587 19.0798 19.0797C13.4588 24.7007 9.63082 31.8623 8.08 39.6589C6.52917 47.4554 7.32511 55.5367 10.3672 62.8809C13.4092 70.2251 18.5608 76.5023 25.1704 80.9187C31.78 85.3351 39.5507 87.6923 47.5 87.6923C58.156 87.6802 68.372 83.4418 75.9069 75.9069C83.4418 68.372 87.6802 58.1559 87.6923 47.5Z" fill="#008D36"/>
      </svg>
    </div>

    <p class="text-lg text-gray-700">
      Publicit√© <b>"{{ selectedPub?.titre }}"</b> a √©t√© activ√©e.
    </p>

  </div>
</div>
-->


<!-- SUCCESS D√âSACTIVER

<div
  *ngIf="showSuccessDeactivate"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"
>
  <div class="bg-white rounded-2xl shadow-xl px-10 py-12 w-[460px] text-center">

    <div class="w-20 h-20 mx-auto mb-6 flex items-center justify-center">
      <svg width="95" height="95" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M70.2452 34.0264C70.9106 34.7294 71.27 35.6677 71.2443 36.6353C71.2186 37.6029 70.81 38.5208 70.1082 39.1875L43.3438 64.7644C42.6518 65.4153 41.736 65.7751 40.7861 65.7692C39.8501 65.7728 38.9494 65.4125 38.2741 64.7644L24.8918 51.976C24.5207 51.6521 24.2188 51.2566 24.0044 50.8131C23.79 50.3696 23.6675 49.8874 23.6442 49.3954C23.6209 48.9033 23.6973 48.4117 23.8689 47.9499C24.0405 47.4882 24.3037 47.0659 24.6426 46.7085C24.9816 46.3511 25.3893 46.0659 25.8413 45.87C26.2932 45.6742 26.7801 45.5718 27.2727 45.5689C27.7653 45.566 28.2534 45.6628 28.7076 45.8534C29.1618 46.044 29.5728 46.3244 29.9159 46.6779L40.7861 57.0457L65.0841 33.8894C65.7871 33.224 66.7254 32.8646 67.693 32.8903C68.6606 32.916 69.5785 33.3246 70.2452 34.0264ZM95 47.5C95 56.8946 92.2142 66.0782 86.9948 73.8896C81.7754 81.7009 74.357 87.7891 65.6775 91.3843C56.998 94.9794 47.4473 95.9201 38.2332 94.0873C29.0191 92.2545 20.5554 87.7305 13.9124 81.0876C7.26945 74.4446 2.74552 65.9809 0.91272 56.7668C-0.920077 47.5527 0.020581 38.002 3.61574 29.3225C7.2109 20.643 13.2991 13.2246 21.1104 8.00519C28.9218 2.78583 38.1054 0 47.5 0C60.0904 0.0241427 72.1582 5.03635 81.0609 13.9391C89.9637 22.8418 94.9759 34.9096 95 47.5ZM87.6923 47.5C87.6923 39.5507 85.3351 31.7799 80.9187 25.1703C76.5023 18.5608 70.2251 13.4092 62.8809 10.3671C55.5368 7.32509 47.4554 6.52915 39.6589 8.07997C31.8623 9.6308 24.7008 13.4587 19.0798 19.0797C13.4588 24.7007 9.63082 31.8623 8.08 39.6589C6.52917 47.4554 7.32511 55.5367 10.3672 62.8809C13.4092 70.2251 18.5608 76.5023 25.1704 80.9187C31.78 85.3351 39.5507 87.6923 47.5 87.6923C58.156 87.6802 68.372 83.4418 75.9069 75.9069C83.4418 68.372 87.6802 58.1559 87.6923 47.5Z" fill="#008D36"/>
      </svg>
    </div>

    <p class="text-lg text-gray-700">
      Publicit√© <b>"{{ selectedPub?.titre }}"</b> a √©t√© d√©sactiv√©e.
    </p>

  </div>
</div>

-->