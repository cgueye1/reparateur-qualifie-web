<div class="w-full">

  <!-- SECTION TITRE -->
  <div class="flex flex-col mb-6">
    <h1 class="text-2xl font-bold text-[#343A40]">Modération des avis</h1>
    <p class="text-sm text-gray-500 mt-2">
      Modérer les avis afin de garantir la qualité, la fiabilité et le respect des règles communautaires.
    </p>
  </div>

  <!-- SECTION CARTES -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">

    <!-- CARD 1 -->
    <div class="bg-white rounded-2xl shadow-sm p-4 flex flex-col justify-between">
      <div class="flex items-start justify-between">
        <p class="text-xs text-gray-500">Signalements</p>
        <div class="bg-white rounded-lg shadow p-1.5 w-9 h-9 flex items-center justify-center">
          <span class="font-bold text-xl">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M20 10C20 15.523 15.523 20 10 20C4.477 20 0 15.523 0 10C0 4.477 4.477 0 10 0C15.523 0 20 4.477 20 10ZM10 18C12.1217 18 14.1566 17.1571 15.6569 15.6569C17.1571 14.1566 18 12.1217 18 10C18 7.87827 17.1571 5.84344 15.6569 4.34315C14.1566 2.84285 12.1217 2 10 2C7.87827 2 5.84344 2.84285 4.34315 4.34315C2.84285 5.84344 2 7.87827 2 10C2 12.1217 2.84285 14.1566 4.34315 15.6569C5.84344 17.1571 7.87827 18 10 18Z"
                fill="#6B7280" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M10 12C9.73478 12 9.48043 11.8946 9.29289 11.7071C9.10536 11.5196 9 11.2652 9 11V6C9 5.73478 9.10536 5.48043 9.29289 5.29289C9.48043 5.10536 9.73478 5 10 5C10.2652 5 10.5196 5.10536 10.7071 5.29289C10.8946 5.48043 11 5.73478 11 6V11C11 11.2652 10.8946 11.5196 10.7071 11.7071C10.5196 11.8946 10.2652 12 10 12Z"
                fill="#6B7280" />
              <path
                d="M9 14C9 13.7348 9.10536 13.4804 9.29289 13.2929C9.48043 13.1054 9.73478 13 10 13C10.2652 13 10.5196 13.1054 10.7071 13.2929C10.8946 13.4804 11 13.7348 11 14C11 14.2652 10.8946 14.5196 10.7071 14.7071C10.5196 14.8946 10.2652 15 10 15C9.73478 15 9.48043 14.8946 9.29289 14.7071C9.10536 14.5196 9 14.2652 9 14Z"
                fill="#6B7280" />
            </svg>

          </span>
        </div>
      </div>
      <h2 class="text-xl font-bold text-[#111111]">{{ loadingStats ? '...' : stats.totalRatings }}</h2>
      <span class="text-xs text-gray-500">Total</span>
    </div>

    <!-- CARD 2 -->
    <div class="bg-white rounded-2xl shadow-sm p-4 flex flex-col justify-between">
      <div class="flex items-start justify-between">
        <p class="text-xs text-gray-500">Signalements en attente</p>
        <div class="bg-white rounded-lg shadow p-1.5 w-9 h-9 flex items-center justify-center">
          <span class="font-bold text-xl">
            <svg width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M0 0.75C0 0.551088 0.0790178 0.360322 0.21967 0.21967C0.360322 0.0790176 0.551088 0 0.75 0H17.25C17.4489 0 17.6397 0.0790176 17.7803 0.21967C17.921 0.360322 18 0.551088 18 0.75C18 0.948912 17.921 1.13968 17.7803 1.28033C17.6397 1.42098 17.4489 1.5 17.25 1.5H15.75V3C15.7503 4.27355 15.3903 5.5212 14.7116 6.59883C14.0329 7.67647 13.0632 8.54011 11.9145 9.09C11.4795 9.2985 11.25 9.6555 11.25 9.975V11.025C11.25 11.3445 11.481 11.7015 11.9145 11.91C13.0632 12.4599 14.0329 13.3235 14.7116 14.4012C15.3903 15.4788 15.7503 16.7265 15.75 18V19.5H17.25C17.4489 19.5 17.6397 19.579 17.7803 19.7197C17.921 19.8603 18 20.0511 18 20.25C18 20.4489 17.921 20.6397 17.7803 20.7803C17.6397 20.921 17.4489 21 17.25 21H0.75C0.551088 21 0.360322 20.921 0.21967 20.7803C0.0790178 20.6397 0 20.4489 0 20.25C0 20.0511 0.0790178 19.8603 0.21967 19.7197C0.360322 19.579 0.551088 19.5 0.75 19.5H2.25V18C2.24969 16.7265 2.60968 15.4788 3.28837 14.4012C3.96707 13.3235 4.93679 12.4599 6.0855 11.91C6.5205 11.7015 6.75 11.3445 6.75 11.025V9.975C6.75 9.6555 6.519 9.2985 6.0855 9.09C4.93679 8.54011 3.96707 7.67647 3.28837 6.59883C2.60968 5.5212 2.24969 4.27355 2.25 3V1.5H0.75C0.551088 1.5 0.360322 1.42098 0.21967 1.28033C0.0790178 1.13968 0 0.948912 0 0.75ZM3.75 1.5V3C3.74973 3.99063 4.02974 4.96112 4.55768 5.79935C5.08562 6.63758 5.83994 7.30933 6.7335 7.737C7.533 8.121 8.25 8.9235 8.25 9.9735V11.0265C8.25 12.0765 7.533 12.879 6.7335 13.263C5.83994 13.6907 5.08562 14.3624 4.55768 15.2007C4.02974 16.0389 3.74973 17.0094 3.75 18V19.5H14.25V18C14.2503 17.0094 13.9703 16.0389 13.4423 15.2007C12.9144 14.3624 12.1601 13.6907 11.2665 13.263C10.467 12.879 9.75 12.078 9.75 11.0265V9.9735C9.75 8.9235 10.467 8.121 11.2665 7.737C12.1601 7.30933 12.9144 6.63758 13.4423 5.79935C13.9703 4.96112 14.2503 3.99063 14.25 3V1.5H3.75Z"
                fill="#F39C12" />
            </svg>

          </span>
        </div>
      </div>

      <h2 class="text-xl font-bold text-[#111111]">{{ loadingStats ? '...' : stats.pending }}</h2>

      <div class="flex items-center gap-2 mt-2">
        <span class="text-green-600 font-bold text-sm">
          <svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M2.24191 0.194433C2.12129 0.315054 2.0474 0.482675 2.04764 0.666759L2.04764 0.747781C2.04764 1.11642 2.34607 1.41485 2.71423 1.41438L6.35657 1.41438L0.195165 7.57578C-0.0650507 7.836 -0.0650507 8.25837 0.195165 8.51859C0.45538 8.77881 0.877758 8.77881 1.13797 8.51859L7.29938 2.35719L7.29938 5.99952C7.29938 6.36816 7.59781 6.66659 7.96597 6.66612L8.047 6.66612C8.41563 6.66612 8.71406 6.36769 8.71359 5.99952L8.71359 0.666759C8.71359 0.298121 8.41516 -0.000307871 8.047 0.000163525L2.71423 0.000163287C2.52991 0.000163229 2.36253 0.0738129 2.24191 0.194433Z"
              fill="#008D36" />
          </svg>

        </span>
        <span class="text-xs font-light text-green-600 ml-1">+12%</span>
        <span class="text-xs text-[#64748B] font-light ml-2">ce mois</span>
      </div>
    </div>

    <!-- CARD 3 -->
    <div class="bg-white rounded-2xl shadow-sm p-4 flex flex-col justify-between">
      <div class="flex items-start justify-between">
        <p class="text-xs text-gray-500">Signalements résolus</p>
        <div class="bg-white rounded-lg shadow p-1.5 w-9 h-9 flex items-center justify-center">
          <span class="font-bold text-xl">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_167_2711)">
                <path
                  d="M17.7 9.18144C17.7868 9.07554 17.8515 8.95332 17.8902 8.822C17.929 8.69067 17.9411 8.55291 17.9257 8.41684C17.9103 8.28078 17.8678 8.14918 17.8007 8.02983C17.7336 7.91047 17.6432 7.80578 17.535 7.72194C17.3148 7.54966 17.036 7.47018 16.758 7.50044C16.4801 7.5307 16.2249 7.66831 16.047 7.88394L11.082 13.9739L8.42697 11.9339C8.21009 11.7574 7.93284 11.6726 7.65432 11.6975C7.37581 11.7225 7.11804 11.8552 6.93597 12.0674C6.84701 12.1715 6.77983 12.2924 6.73838 12.4229C6.69693 12.5534 6.68206 12.6909 6.69464 12.8272C6.70723 12.9635 6.74702 13.096 6.81165 13.2167C6.87629 13.3374 6.96446 13.4439 7.07097 13.5299L10.551 16.2449C10.7707 16.4237 11.0523 16.5082 11.3341 16.4801C11.616 16.452 11.8753 16.3136 12.0555 16.0949L17.6955 9.16494L17.7 9.18144Z"
                  fill="#008D36" />
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M9.76494 1.06971C10.5659 0.481714 10.9664 0.187714 11.3999 0.0737143C11.7873 -0.0245714 12.1931 -0.0245714 12.5804 0.0737143C13.0184 0.187714 13.4204 0.481714 14.2154 1.06971L15.2309 1.81521C15.5084 2.01921 15.6479 2.12121 15.7979 2.20071C15.9319 2.27071 16.0714 2.32871 16.2164 2.37471C16.3799 2.42421 16.5494 2.44971 16.8899 2.50221L18.1349 2.69271C19.1174 2.84271 19.6079 2.91921 19.9949 3.14871C20.3399 3.35121 20.6279 3.63921 20.8304 3.98421C21.0599 4.37421 21.1349 4.86621 21.2864 5.84421L21.4769 7.08922C21.5294 7.42972 21.5549 7.60071 21.6044 7.76421C21.6494 7.90921 21.7074 8.04821 21.7784 8.18121C21.8594 8.33121 21.9599 8.47071 22.1639 8.74821L22.9094 9.76371C23.4974 10.5647 23.7914 10.9652 23.9054 11.3987C24.0037 11.7861 24.0037 12.1919 23.9054 12.5792C23.7929 13.0172 23.4974 13.4192 22.9094 14.2142L22.1639 15.2297C22.0212 15.4086 21.8923 15.5982 21.7784 15.7967C21.7073 15.9309 21.649 16.0715 21.6044 16.2167C21.5549 16.3787 21.5294 16.5482 21.4769 16.8887L21.2864 18.1337C21.1364 19.1162 21.0599 19.6067 20.8304 19.9937C20.6279 20.3387 20.3399 20.6267 19.9949 20.8292C19.6049 21.0587 19.1129 21.1337 18.1349 21.2852L16.8899 21.4757C16.6625 21.5015 16.4373 21.5446 16.2164 21.6047C16.0714 21.6487 15.9319 21.7067 15.7979 21.7787C15.6479 21.8582 15.5084 21.9587 15.2309 22.1642L14.2154 22.9097C13.4144 23.4977 13.0139 23.7917 12.5804 23.9057C12.1931 24.004 11.7873 24.004 11.3999 23.9057C10.9619 23.7917 10.5599 23.4977 9.76494 22.9097L8.74944 22.1642C8.57051 22.0215 8.38096 21.8926 8.18244 21.7787C8.04874 21.7076 7.90861 21.6494 7.76394 21.6047C7.54304 21.5446 7.31789 21.5015 7.09044 21.4757L5.84544 21.2852C4.86294 21.1352 4.37093 21.0602 3.98544 20.8292C3.64166 20.6247 3.35446 20.3375 3.14993 19.9937C2.92043 19.6037 2.84544 19.1117 2.69393 18.1337L2.50344 16.8887C2.45094 16.5482 2.42544 16.3787 2.37594 16.2152C2.33217 16.0702 2.27387 15.93 2.20194 15.7967C2.08804 15.5982 1.95917 15.4086 1.81643 15.2297L1.07094 14.2142C0.482935 13.4132 0.188935 13.0142 0.074935 12.5792C-0.0233507 12.1919 -0.0233507 11.7861 0.074935 11.3987C0.187435 10.9607 0.482935 10.5587 1.07094 9.76371L1.81643 8.74821C2.02044 8.47071 2.12244 8.33121 2.20194 8.18121C2.27194 8.04821 2.32994 7.90871 2.37594 7.76271C2.42544 7.59922 2.45094 7.42972 2.50344 7.08922L2.69393 5.84421C2.84394 4.86171 2.92043 4.36971 3.14993 3.98421C3.35243 3.63921 3.64044 3.35421 3.98544 3.14871C4.37543 2.91921 4.86743 2.84421 5.84544 2.69271L7.09044 2.50221C7.43094 2.45121 7.60194 2.42421 7.76394 2.37471C7.90894 2.32971 8.04844 2.27171 8.18244 2.20071C8.33244 2.12121 8.47194 2.01921 8.74944 1.81521L9.76494 1.06971ZM13.3349 2.27871L14.4014 3.06171C14.6279 3.22821 14.8514 3.39321 15.1004 3.52521C15.3204 3.64221 15.5484 3.73671 15.7844 3.80871C16.0542 3.88332 16.3289 3.93896 16.6064 3.97521L17.9144 4.17621C19.0259 4.34721 19.1639 4.39371 19.2449 4.44171C19.3719 4.51771 19.4729 4.61871 19.5479 4.74471C19.5959 4.82571 19.6439 4.96372 19.8134 6.07521L20.0144 7.38321C20.0507 7.66076 20.1063 7.93543 20.1809 8.20522C20.2539 8.44322 20.3484 8.67122 20.4644 8.88921C20.5964 9.13822 20.7614 9.36172 20.9279 9.58821L21.7109 10.6547C22.3769 11.5607 22.4399 11.6912 22.4639 11.7842C22.4985 11.9251 22.4985 12.0723 22.4639 12.2132C22.4399 12.3047 22.3769 12.4352 21.7109 13.3427L20.9279 14.4092C20.7614 14.6357 20.5964 14.8592 20.4644 15.1082C20.3485 15.3267 20.2535 15.5557 20.1809 15.7922C20.1063 16.062 20.0507 16.3367 20.0144 16.6142L19.8134 17.9222C19.6424 19.0337 19.5959 19.1717 19.5479 19.2527C19.4728 19.3766 19.3689 19.4806 19.2449 19.5557C19.1639 19.6037 19.0259 19.6517 17.9144 19.8212L16.6064 20.0222C16.3289 20.0585 16.0542 20.1141 15.7844 20.1887C15.548 20.2613 15.3189 20.3562 15.1004 20.4722C14.8514 20.6042 14.6279 20.7692 14.4014 20.9357L13.3349 21.7187C12.4289 22.3847 12.2984 22.4477 12.2054 22.4717C12.0645 22.5063 11.9173 22.5063 11.7764 22.4717C11.6849 22.4477 11.5544 22.3847 10.6469 21.7187L9.58044 20.9357C9.35853 20.7651 9.12496 20.6102 8.88144 20.4722C8.66294 20.3562 8.43391 20.2613 8.19744 20.1887C7.92765 20.1141 7.65298 20.0585 7.37543 20.0222L6.06744 19.8212C4.95594 19.6502 4.81793 19.6037 4.73694 19.5557C4.61301 19.4806 4.50907 19.3766 4.43394 19.2527C4.38594 19.1717 4.33793 19.0337 4.16844 17.9222L3.96743 16.6142C3.93118 16.3367 3.87554 16.062 3.80093 15.7922C3.72834 15.5557 3.63341 15.3267 3.51744 15.1082C3.38544 14.8592 3.22044 14.6357 3.05394 14.4092L2.27094 13.3427C1.60494 12.4367 1.54193 12.3062 1.51794 12.2132C1.48336 12.0723 1.48336 11.9251 1.51794 11.7842C1.54193 11.6927 1.60494 11.5622 2.27094 10.6547L3.05394 9.58821C3.22044 9.36172 3.38544 9.13822 3.51744 8.88921C3.63344 8.66922 3.72793 8.44121 3.80093 8.20522C3.87554 7.93543 3.93118 7.66076 3.96743 7.38321L4.16844 6.07521C4.33944 4.96372 4.38594 4.82571 4.43394 4.74471C4.50907 4.62079 4.61301 4.51685 4.73694 4.44171C4.81793 4.39371 4.95594 4.34571 6.06744 4.17621L7.37543 3.97521C7.65298 3.93896 7.92765 3.88332 8.19744 3.80871C8.43544 3.73571 8.66343 3.64121 8.88144 3.52521C9.13043 3.39321 9.35394 3.22821 9.58044 3.06171L10.6469 2.27871C11.5529 1.61271 11.6834 1.54971 11.7764 1.52571C11.9173 1.49113 12.0645 1.49113 12.2054 1.52571C12.2969 1.54971 12.4274 1.61271 13.3349 2.27871Z"
                  fill="#008D36" />
              </g>
              <defs>
                <clipPath id="clip0_167_2711">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>

          </span>
        </div>
      </div>

      <h2 class="text-xl font-bold text-[#111111]">{{ loadingStats ? '...' : stats.solved }}</h2>
      <div class="flex items-center gap-2 mt-2">
        <span class="text-green-600 font-bold text-sm">
          <svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M2.24191 0.194433C2.12129 0.315054 2.0474 0.482675 2.04764 0.666759L2.04764 0.747781C2.04764 1.11642 2.34607 1.41485 2.71423 1.41438L6.35657 1.41438L0.195165 7.57578C-0.0650507 7.836 -0.0650507 8.25837 0.195165 8.51859C0.45538 8.77881 0.877758 8.77881 1.13797 8.51859L7.29938 2.35719L7.29938 5.99952C7.29938 6.36816 7.59781 6.66659 7.96597 6.66612L8.047 6.66612C8.41563 6.66612 8.71406 6.36769 8.71359 5.99952L8.71359 0.666759C8.71359 0.298121 8.41516 -0.000307871 8.047 0.000163525L2.71423 0.000163287C2.52991 0.000163229 2.36253 0.0738129 2.24191 0.194433Z"
              fill="#008D36" />
          </svg>

        </span>
        <span class="text-xs font-light text-green-600 ml-1">+12%</span>
        <span class="text-xs text-[#64748B] font-light ml-2">ce mois</span>
      </div>
    </div>

  </div>

  <!-- BARRE RECHERCHE + FILTRES -->
  <div class="bg-white rounded-xl shadow-sm p-5 mt-5 mb-6">

    <div class="w-full mb-5 flex flex-col lg:flex-row items-center justify-between gap-3">

      <!-- Recherche -->
      <div class="flex items-center w-full lg:w-auto border border-gray-300 rounded-lg px-3 py-2 bg-white">
        <input type="text" [(ngModel)]="searchText" placeholder="Rechercher un avis"
          class="w-full outline-none text-[#777777] text-xs">
      </div>

      <!-- Filtres -->
      <div class="flex items-center gap-3">

        <!-- Filtre Statut -->
        <button
          class="border border-gray-300 rounded-lg px-4 py-2 bg-white text-sm flex items-center gap-2 font-medium text-[#333333]">
          <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.625 0.625H13.125M2.70833 4.79167H11.0417M5.20833 8.95833H8.54167" stroke="#777777"
              stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          Tous les statuts
        </button>

        <!-- Filtre Type -->
        <button
          class="border border-gray-300 rounded-lg px-4 py-2 bg-white text-sm font-medium flex items-center gap-2 text-[#333333]">
          <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.625 0.625H13.125M2.70833 4.79167H11.0417M5.20833 8.95833H8.54167" stroke="#777777"
              stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          Tous les profils
        </button>

      </div>

    </div>

    <!-- TABLEAU DES AVIS -->
    <div class="bg-white rounded-xl overflow-x-auto border border-gray-200">

      <table class="w-full min-w-max">
        <thead class="bg-gray-50">
          <tr class="text-left text-xs font-medium text-gray-600 border-b">
            <th class="py-3 px-3">Date signalement</th>
            <th class="py-3 px-3">Auteur</th>
            <th class="py-3 px-3">Raison</th>
            <th class="py-3 px-3">Contenu signalé</th>
            <th class="py-3 px-3">Statut</th>
            <th class="py-3 px-3">Actions</th>
          </tr>
        </thead>

        <tbody class="bg-white divide-y divide-gray-100">

          <!-- Loading state -->
          <tr *ngIf="loading">
            <td colspan="6" class="py-8 text-center text-gray-500">
              Chargement...
            </td>
          </tr>

          <!-- Empty state -->
          <tr *ngIf="!loading && filteredAvis.length === 0">
            <td colspan="6" class="py-12 text-center">
              <div class="flex flex-col items-center justify-center gap-3">

                <div class="text-gray-600">
                  <p class="text-sm text-gray-500">L'API backend ne fournit pas encore d'endpoint pour lister tous les
                    avis.</p>
                </div>
              </div>
            </td>
          </tr>

          <!-- Data rows -->
          <ng-container *ngIf="!loading">
            <tr *ngFor="let a of filteredAvis" class="hover:bg-gray-50">

              <td class="py-3 px-3 text-sm text-[#4B4848]">{{ formatDate(a.createdAt) }}</td>
              <td class="py-3 px-3 text-sm text-[#4B4848]">{{ getAuthorName(a) }}</td>
              <td class="py-3 px-3 text-sm text-[#4B4848]">{{ a.reportReason || 'N/A' }}</td>
              <td class="py-3 px-3 text-sm text-[#4B4848] max-w-xs truncate">{{ a.comment }}</td>

              <!-- Statut -->
              <td class="py-3 px-3">
                <span class="px-2 py-1 rounded-full text-[10px] font-medium" [ngClass]="{
                  'bg-yellow-100 text-[#E4A70A]': a.status === 'PENDING',
                  'bg-green-100 text-green-600': a.status === 'VALIDATED',
                  'bg-red-100 text-red-600': a.status === 'REJECTED',
                  'bg-gray-100 text-gray-600': a.status === 'HIDDEN'
                }">
                  {{ getStatusLabel(a.status) }}
                </span>
              </td>

              <!-- Actions -->
              <td class="py-3 px-3">
                <div class="flex items-center gap-4">

                  <!-- Si STATUT = PENDING → afficher les 3 icônes -->
                  <ng-container *ngIf="a.status === 'PENDING'; else publierActions">

                    <!-- ✔️ Icône valider -->
                    <span class="text-green-600 cursor-pointer" (click)="openApprovePopup(a)">
                      <!-- icône check -->
                      <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M11.3546 0.146894C11.4012 0.193339 11.4381 0.248515 11.4633 0.30926C11.4886 0.370005 11.5015 0.435127 11.5015 0.500894C11.5015 0.566661 11.4886 0.631782 11.4633 0.692528C11.4381 0.753273 11.4012 0.808448 11.3546 0.854894L4.35463 7.85489C4.30819 7.90146 4.25301 7.9384 4.19227 7.96361C4.13152 7.98881 4.0664 8.00179 4.00063 8.00179C3.93486 8.00179 3.86974 7.98881 3.809 7.96361C3.74825 7.9384 3.69308 7.90146 3.64663 7.85489L0.146631 4.35489C0.0527448 4.26101 0 4.13367 0 4.00089C0 3.86812 0.0527448 3.74078 0.146631 3.64689C0.240518 3.55301 0.367856 3.50026 0.500632 3.50026C0.633407 3.50026 0.760745 3.55301 0.854632 3.64689L4.00063 6.79389L10.6466 0.146894C10.6931 0.100331 10.7483 0.0633878 10.809 0.0381813C10.8697 0.0129749 10.9349 0 11.0006 0C11.0664 0 11.1315 0.0129749 11.1923 0.0381813C11.253 0.0633878 11.3082 0.100331 11.3546 0.146894Z"
                          fill="#008D36" />
                      </svg>

                    </span>

                    <!-- ⚪ Icône masquer -->
                    <span class="text-gray-500 cursor-pointer" (click)="openMaskPopup(a)">
                      <!-- icône oeil barré -->
                      <svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M13.359 9.59152C15.06 8.07352 16 6.35352 16 6.35352C16 6.35352 13 0.853516 7.99996 0.853516C7.03947 0.856027 6.08977 1.05618 5.20996 1.44152L5.97996 2.21252C6.62769 1.97776 7.31101 1.85632 7.99996 1.85352C10.12 1.85352 11.879 3.02152 13.168 4.31052C13.789 4.93359 14.3452 5.6181 14.828 6.35352C14.7706 6.44018 14.7056 6.53618 14.633 6.64152C14.298 7.12152 13.803 7.76152 13.168 8.39652C13.0033 8.56185 12.831 8.72385 12.651 8.88252L13.359 9.59152Z"
                          fill="#64748B" />
                        <path
                          d="M11.297 7.52987C11.5201 6.90571 11.5615 6.23102 11.4162 5.58429C11.2708 4.93756 10.9449 4.3454 10.4762 3.87669C10.0075 3.40798 9.41529 3.08201 8.76857 2.9367C8.12184 2.79139 7.44715 2.83272 6.82299 3.05587L7.64599 3.87887C8.0303 3.82386 8.42214 3.85911 8.79046 3.98183C9.15878 4.10455 9.49346 4.31136 9.76798 4.58588C10.0425 4.8604 10.2493 5.19508 10.372 5.5634C10.4947 5.93172 10.53 6.32356 10.475 6.70787L11.297 7.52987ZM8.35399 8.82887L9.17599 9.65087C8.55183 9.87402 7.87714 9.91535 7.23041 9.77004C6.58368 9.62473 5.99151 9.29876 5.52281 8.83005C5.0541 8.36134 4.72813 7.76918 4.58282 7.12245C4.43751 6.47572 4.47883 5.80103 4.70199 5.17687L5.52499 5.99987C5.46998 6.38418 5.50523 6.77602 5.62795 7.14434C5.75067 7.51266 5.95748 7.84734 6.232 8.12186C6.50652 8.39638 6.8412 8.60319 7.20952 8.72591C7.57784 8.84863 7.96968 8.88388 8.35399 8.82887Z"
                          fill="#64748B" />
                        <path
                          d="M3.35 3.824C3.17 3.984 2.99733 4.14633 2.832 4.311C2.21097 4.93408 1.65478 5.61859 1.172 6.354L1.367 6.642C1.702 7.122 2.197 7.762 2.832 8.397C4.121 9.686 5.881 10.854 8 10.854C8.716 10.854 9.39 10.721 10.02 10.494L10.79 11.266C9.91019 11.6513 8.96049 11.8515 8 11.854C3 11.854 0 6.354 0 6.354C0 6.354 0.939 4.633 2.641 3.116L3.349 3.825L3.35 3.824ZM13.646 12.708L1.646 0.708L2.354 0L14.354 12L13.646 12.708Z"
                          fill="#64748B" />
                      </svg>

                    </span>

                    <!-- ❌ Icône supprimer -->
                    <span class="text-red-600 cursor-pointer" (click)="openDeletePopup(a)">
                      <!-- poubelle -->
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M6.5 1H9.5C9.63261 1 9.75979 1.05268 9.85355 1.14645C9.94732 1.24021 10 1.36739 10 1.5V2.5H6V1.5C6 1.36739 6.05268 1.24021 6.14645 1.14645C6.24021 1.05268 6.36739 1 6.5 1ZM11 2.5V1.5C11 1.10218 10.842 0.720644 10.5607 0.43934C10.2794 0.158035 9.89782 0 9.5 0L6.5 0C6.10218 0 5.72064 0.158035 5.43934 0.43934C5.15804 0.720644 5 1.10218 5 1.5V2.5H1.5C1.36739 2.5 1.24021 2.55268 1.14645 2.64645C1.05268 2.74021 1 2.86739 1 3C1 3.13261 1.05268 3.25979 1.14645 3.35355C1.24021 3.44732 1.36739 3.5 1.5 3.5H2.038L2.891 14.16C2.93122 14.6612 3.15875 15.1289 3.52827 15.4698C3.8978 15.8108 4.38219 16.0001 4.885 16H11.115C11.6178 16.0001 12.1022 15.8108 12.4717 15.4698C12.8412 15.1289 13.0688 14.6612 13.109 14.16L13.962 3.5H14.5C14.6326 3.5 14.7598 3.44732 14.8536 3.35355C14.9473 3.25979 15 3.13261 15 3C15 2.86739 14.9473 2.74021 14.8536 2.64645C14.7598 2.55268 14.6326 2.5 14.5 2.5H11ZM12.958 3.5L12.112 14.08C12.0919 14.3306 11.9781 14.5644 11.7934 14.7349C11.6086 14.9054 11.3664 15.0001 11.115 15H4.885C4.6336 15.0001 4.3914 14.9054 4.20664 14.7349C4.02188 14.5644 3.90811 14.3306 3.888 14.08L3.042 3.5H12.958ZM5.471 4.5C5.60333 4.49235 5.73329 4.53756 5.8323 4.6257C5.93131 4.71383 5.99127 4.83767 5.999 4.97L6.499 13.47C6.50425 13.6008 6.45802 13.7284 6.37022 13.8255C6.28242 13.9225 6.16006 13.9813 6.02941 13.9892C5.89876 13.997 5.77024 13.9533 5.67144 13.8675C5.57265 13.7816 5.51145 13.6605 5.501 13.53L5 5.03C4.99594 4.96431 5.00489 4.89847 5.02633 4.83625C5.04777 4.77403 5.08129 4.71665 5.12495 4.66741C5.16862 4.61817 5.22158 4.57804 5.28079 4.54931C5.34 4.52058 5.4043 4.50382 5.47 4.5H5.471ZM10.529 4.5C10.5947 4.50382 10.659 4.52058 10.7182 4.54931C10.7774 4.57804 10.8304 4.61817 10.874 4.66741C10.9177 4.71665 10.9512 4.77403 10.9727 4.83625C10.9941 4.89847 11.0031 4.96431 10.999 5.03L10.499 13.53C10.4963 13.5964 10.4804 13.6617 10.4522 13.7219C10.424 13.7821 10.3841 13.8361 10.3348 13.8807C10.2855 13.9254 10.2278 13.9597 10.165 13.9817C10.1023 14.0037 10.0358 14.013 9.9694 14.009C9.90302 14.005 9.8381 13.9878 9.77845 13.9585C9.7188 13.9291 9.6656 13.8881 9.62199 13.8379C9.57837 13.7877 9.5452 13.7293 9.52443 13.6661C9.50365 13.603 9.49569 13.5363 9.501 13.47L10.001 4.97C10.0087 4.83767 10.0687 4.71383 10.1677 4.6257C10.2667 4.53756 10.3967 4.49235 10.529 4.5ZM8 4.5C8.13261 4.5 8.25979 4.55268 8.35355 4.64645C8.44732 4.74021 8.5 4.86739 8.5 5V13.5C8.5 13.6326 8.44732 13.7598 8.35355 13.8536C8.25979 13.9473 8.13261 14 8 14C7.86739 14 7.74021 13.9473 7.64645 13.8536C7.55268 13.7598 7.5 13.6326 7.5 13.5V5C7.5 4.86739 7.55268 4.74021 7.64645 4.64645C7.74021 4.55268 7.86739 4.5 8 4.5Z"
                          fill="#FF2828" />
                      </svg>

                    </span>

                  </ng-container>

                  <!-- Si STATUT = PUBLIE → afficher 2 icônes -->
                  <ng-template #publierActions>

                    <!-- ↻ Icône recharger -->
                    <span class="text-gray-500 cursor-pointer" (click)="openHistoryPopup(a)">
                      <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.12549 4.79102V8.12435L10.2088 10.2077" stroke="black" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round" />
                        <path
                          d="M1.74048 3.85094L1.11548 3.85344C1.11614 4.0182 1.18182 4.17602 1.29824 4.2926C1.41466 4.40917 1.5724 4.47507 1.73715 4.47594L1.74048 3.85094ZM3.85882 4.48594C3.94089 4.48633 4.02224 4.47054 4.09822 4.43949C4.17419 4.40843 4.24331 4.36271 4.30161 4.30495C4.35992 4.24718 4.40628 4.1785 4.43804 4.10282C4.46981 4.02713 4.48635 3.94594 4.48673 3.86386C4.48712 3.78178 4.47133 3.70044 4.44027 3.62446C4.40922 3.54849 4.3635 3.47937 4.30574 3.42107C4.24797 3.36276 4.17929 3.3164 4.10361 3.28464C4.02792 3.25287 3.94673 3.23633 3.86465 3.23594L3.85882 4.48594ZM2.35465 1.72594C2.35421 1.64387 2.33761 1.56268 2.3058 1.48702C2.27399 1.41136 2.22758 1.34271 2.16923 1.28498C2.11089 1.22725 2.04174 1.18158 1.96575 1.15058C1.88975 1.11957 1.80839 1.10384 1.72632 1.10428C1.64424 1.10472 1.56305 1.12131 1.48739 1.15313C1.41173 1.18494 1.34308 1.23135 1.28535 1.28969C1.22762 1.34804 1.18195 1.41718 1.15095 1.49318C1.11994 1.56918 1.10421 1.65053 1.10465 1.73261L2.35465 1.72594ZM1.31465 7.11261C1.32663 7.03093 1.3223 6.94768 1.30192 6.86768C1.28154 6.78768 1.24552 6.7125 1.19592 6.6465C1.14633 6.5805 1.08415 6.52498 1.01298 6.48314C0.941808 6.44131 0.863054 6.41399 0.781264 6.40276C0.699474 6.39153 0.61627 6.39662 0.536457 6.41773C0.456645 6.43883 0.381805 6.47555 0.31626 6.52574C0.250715 6.57594 0.195764 6.63862 0.15458 6.71017C0.113396 6.78172 0.0867966 6.86072 0.0763165 6.94261L1.31465 7.11261ZM13.8438 2.40678C10.6605 -0.776556 5.51632 -0.809889 2.35382 2.35344L3.23715 3.23678C5.90382 0.570944 10.2563 0.586778 12.9605 3.29011L13.8438 2.40678ZM2.40715 13.8434C5.59048 17.0268 10.7347 17.0601 13.8972 13.8968L13.0138 13.0134C10.3471 15.6793 5.99465 15.6634 3.29048 12.9601L2.40715 13.8434ZM13.8972 13.8968C17.0597 10.7343 17.0272 5.59011 13.8438 2.40678L12.9605 3.29011C15.6638 5.99428 15.6797 10.3468 13.0138 13.0134L13.8972 13.8968ZM2.35382 2.35344L1.29798 3.40844L2.18215 4.29178L3.23715 3.23678L2.35382 2.35344ZM1.73715 4.47594L3.85882 4.48594L3.86465 3.23594L1.74382 3.22594L1.73715 4.47594ZM2.36548 3.84761L2.35465 1.72594L1.10465 1.73261L1.11548 3.85344L2.36548 3.84761ZM0.0754831 6.94178C-0.0958631 8.19393 0.0254404 9.46876 0.429865 10.6661C0.834289 11.8635 1.51082 12.9508 2.40632 13.8426L3.28965 12.9593C2.53056 12.2038 1.95706 11.2825 1.61422 10.2678C1.27138 9.2532 1.16855 8.17287 1.31382 7.11178L0.0754831 6.94178Z"
                          fill="black" />
                      </svg>

                    </span>

                    <!-- ❌ Icône supprimer -->
                    <span class="text-red-600 cursor-pointer">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M6.5 1H9.5C9.63261 1 9.75979 1.05268 9.85355 1.14645C9.94732 1.24021 10 1.36739 10 1.5V2.5H6V1.5C6 1.36739 6.05268 1.24021 6.14645 1.14645C6.24021 1.05268 6.36739 1 6.5 1ZM11 2.5V1.5C11 1.10218 10.842 0.720644 10.5607 0.43934C10.2794 0.158035 9.89782 0 9.5 0L6.5 0C6.10218 0 5.72064 0.158035 5.43934 0.43934C5.15804 0.720644 5 1.10218 5 1.5V2.5H1.5C1.36739 2.5 1.24021 2.55268 1.14645 2.64645C1.05268 2.74021 1 2.86739 1 3C1 3.13261 1.05268 3.25979 1.14645 3.35355C1.24021 3.44732 1.36739 3.5 1.5 3.5H2.038L2.891 14.16C2.93122 14.6612 3.15875 15.1289 3.52827 15.4698C3.8978 15.8108 4.38219 16.0001 4.885 16H11.115C11.6178 16.0001 12.1022 15.8108 12.4717 15.4698C12.8412 15.1289 13.0688 14.6612 13.109 14.16L13.962 3.5H14.5C14.6326 3.5 14.7598 3.44732 14.8536 3.35355C14.9473 3.25979 15 3.13261 15 3C15 2.86739 14.9473 2.74021 14.8536 2.64645C14.7598 2.55268 14.6326 2.5 14.5 2.5H11ZM12.958 3.5L12.112 14.08C12.0919 14.3306 11.9781 14.5644 11.7934 14.7349C11.6086 14.9054 11.3664 15.0001 11.115 15H4.885C4.6336 15.0001 4.3914 14.9054 4.20664 14.7349C4.02188 14.5644 3.90811 14.3306 3.888 14.08L3.042 3.5H12.958ZM5.471 4.5C5.60333 4.49235 5.73329 4.53756 5.8323 4.6257C5.93131 4.71383 5.99127 4.83767 5.999 4.97L6.499 13.47C6.50425 13.6008 6.45802 13.7284 6.37022 13.8255C6.28242 13.9225 6.16006 13.9813 6.02941 13.9892C5.89876 13.997 5.77024 13.9533 5.67144 13.8675C5.57265 13.7816 5.51145 13.6605 5.501 13.53L5 5.03C4.99594 4.96431 5.00489 4.89847 5.02633 4.83625C5.04777 4.77403 5.08129 4.71665 5.12495 4.66741C5.16862 4.61817 5.22158 4.57804 5.28079 4.54931C5.34 4.52058 5.4043 4.50382 5.47 4.5H5.471ZM10.529 4.5C10.5947 4.50382 10.659 4.52058 10.7182 4.54931C10.7774 4.57804 10.8304 4.61817 10.874 4.66741C10.9177 4.71665 10.9512 4.77403 10.9727 4.83625C10.9941 4.89847 11.0031 4.96431 10.999 5.03L10.499 13.53C10.4963 13.5964 10.4804 13.6617 10.4522 13.7219C10.424 13.7821 10.3841 13.8361 10.3348 13.8807C10.2855 13.9254 10.2278 13.9597 10.165 13.9817C10.1023 14.0037 10.0358 14.013 9.9694 14.009C9.90302 14.005 9.8381 13.9878 9.77845 13.9585C9.7188 13.9291 9.6656 13.8881 9.62199 13.8379C9.57837 13.7877 9.5452 13.7293 9.52443 13.6661C9.50365 13.603 9.49569 13.5363 9.501 13.47L10.001 4.97C10.0087 4.83767 10.0687 4.71383 10.1677 4.6257C10.2667 4.53756 10.3967 4.49235 10.529 4.5ZM8 4.5C8.13261 4.5 8.25979 4.55268 8.35355 4.64645C8.44732 4.74021 8.5 4.86739 8.5 5V13.5C8.5 13.6326 8.44732 13.7598 8.35355 13.8536C8.25979 13.9473 8.13261 14 8 14C7.86739 14 7.74021 13.9473 7.64645 13.8536C7.55268 13.7598 7.5 13.6326 7.5 13.5V5C7.5 4.86739 7.55268 4.74021 7.64645 4.64645C7.74021 4.55268 7.86739 4.5 8 4.5Z"
                          fill="#FF2828" />
                      </svg>

                    </span>

                  </ng-template>

                </div>
              </td>

            </tr>
          </ng-container>

        </tbody>
      </table>

    </div>

  </div>

</div>





<div *ngIf="showApprovePopup" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl px-10 py-12 w-[460px] text-center shadow-xl">

    <!-- Icône centered -->
    <div class="w-full flex items-center justify-center mb-6">
      <svg width="65" height="65" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M51.2407 58.166L43.8188 58.166L43.8188 28.4785L51.2407 28.4785L51.2407 58.166Z" fill="#EFBD8E" />
        <path
          d="M47.5 65.291C45.3685 65.291 43.6406 67.0189 43.6406 69.1504C43.6406 71.2819 45.3685 73.0098 47.5 73.0098C49.6315 73.0098 51.3594 71.2819 51.3594 69.1504C51.3594 67.0189 49.6315 65.291 47.5 65.291Z"
          fill="#EFBD8E" />
        <path
          d="M47.5 94.9776C59.6972 95.3703 71.5436 90.595 80.446 81.6968C89.3483 72.7986 94.5815 60.5025 95 47.5C94.5815 34.4975 89.3483 22.2014 80.446 13.3032C71.5436 4.40504 59.6972 -0.370316 47.5 0.0224457C35.3028 -0.370316 23.4564 4.40504 14.554 13.3032C5.65166 22.2014 0.418472 34.4975 0 47.5C0.418472 60.5025 5.65166 72.7986 14.554 81.6968C23.4564 90.595 35.3028 95.3703 47.5 94.9776ZM47.5 7.93537C57.7293 7.54133 67.6886 11.4827 75.1994 18.8972C82.7101 26.3117 87.1609 36.5959 87.5781 47.5C87.1609 58.4041 82.7101 68.6883 75.1994 76.1028C67.6886 83.5174 57.7293 87.4587 47.5 87.0646C37.2707 87.4587 27.3114 83.5174 19.8006 76.1028C12.2899 68.6883 7.83908 58.4041 7.42188 47.5C7.83908 36.5959 12.2899 26.3117 19.8006 18.8972C27.3114 11.4827 37.2707 7.54133 47.5 7.93537Z"
          fill="#EFBD8E" />
      </svg>
    </div>

    <h2 class="text-xl font-bold mb-2">Confirmation</h2>

    <p class="text-sm text-gray-600 mb-8">
      Êtes-vous sûr de vouloir <b>approuver</b> ce contenu ?
    </p>

    <div class="flex justify-center gap-4">
      <button (click)="confirmApprove()"
        class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700">Approuver</button>
      <button (click)="closePopups()" class="bg-gray-100 px-8 py-3 rounded-lg hover:bg-gray-200">Annuler</button>
    </div>

  </div>

</div>



<div *ngIf="showMaskPopup" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl px-10 py-12 w-[460px] text-center shadow-xl">

    <!-- Icône centered -->
    <div class="w-full flex items-center justify-center mb-6">
      <svg width="65" height="65" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M51.2407 58.166L43.8188 58.166L43.8188 28.4785L51.2407 28.4785L51.2407 58.166Z" fill="#EFBD8E" />
        <path
          d="M47.5 65.291C45.3685 65.291 43.6406 67.0189 43.6406 69.1504C43.6406 71.2819 45.3685 73.0098 47.5 73.0098C49.6315 73.0098 51.3594 71.2819 51.3594 69.1504C51.3594 67.0189 49.6315 65.291 47.5 65.291Z"
          fill="#EFBD8E" />
        <path
          d="M47.5 94.9776C59.6972 95.3703 71.5436 90.595 80.446 81.6968C89.3483 72.7986 94.5815 60.5025 95 47.5C94.5815 34.4975 89.3483 22.2014 80.446 13.3032C71.5436 4.40504 59.6972 -0.370316 47.5 0.0224457C35.3028 -0.370316 23.4564 4.40504 14.554 13.3032C5.65166 22.2014 0.418472 34.4975 0 47.5C0.418472 60.5025 5.65166 72.7986 14.554 81.6968C23.4564 90.595 35.3028 95.3703 47.5 94.9776ZM47.5 7.93537C57.7293 7.54133 67.6886 11.4827 75.1994 18.8972C82.7101 26.3117 87.1609 36.5959 87.5781 47.5C87.1609 58.4041 82.7101 68.6883 75.1994 76.1028C67.6886 83.5174 57.7293 87.4587 47.5 87.0646C37.2707 87.4587 27.3114 83.5174 19.8006 76.1028C12.2899 68.6883 7.83908 58.4041 7.42188 47.5C7.83908 36.5959 12.2899 26.3117 19.8006 18.8972C27.3114 11.4827 37.2707 7.54133 47.5 7.93537Z"
          fill="#EFBD8E" />
      </svg>
    </div>

    <h2 class="text-xl font-bold mb-2">Confirmation</h2>

    <p class="text-sm text-gray-600 mb-8">
      Êtes-vous sûr de vouloir <b>masquer</b> ce contenu ?
    </p>

    <div class="flex justify-center gap-4">
      <button (click)="confirmMask()"
        class="bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700">Masquer</button>
      <button (click)="closePopups()" class="bg-gray-100 px-8 py-3 rounded-lg hover:bg-gray-200">Annuler</button>
    </div>

  </div>
</div>


<div *ngIf="showDeletePopup" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl px-10 py-12 w-[460px] text-center shadow-xl">

    <!-- Icône centered -->
    <div class="w-full flex items-center justify-center mb-6">
      <svg width="65" height="65" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M51.2407 58.166L43.8188 58.166L43.8188 28.4785L51.2407 28.4785L51.2407 58.166Z" fill="#EFBD8E" />
        <path
          d="M47.5 65.291C45.3685 65.291 43.6406 67.0189 43.6406 69.1504C43.6406 71.2819 45.3685 73.0098 47.5 73.0098C49.6315 73.0098 51.3594 71.2819 51.3594 69.1504C51.3594 67.0189 49.6315 65.291 47.5 65.291Z"
          fill="#EFBD8E" />
        <path
          d="M47.5 94.9776C59.6972 95.3703 71.5436 90.595 80.446 81.6968C89.3483 72.7986 94.5815 60.5025 95 47.5C94.5815 34.4975 89.3483 22.2014 80.446 13.3032C71.5436 4.40504 59.6972 -0.370316 47.5 0.0224457C35.3028 -0.370316 23.4564 4.40504 14.554 13.3032C5.65166 22.2014 0.418472 34.4975 0 47.5C0.418472 60.5025 5.65166 72.7986 14.554 81.6968C23.4564 90.595 35.3028 95.3703 47.5 94.9776ZM47.5 7.93537C57.7293 7.54133 67.6886 11.4827 75.1994 18.8972C82.7101 26.3117 87.1609 36.5959 87.5781 47.5C87.1609 58.4041 82.7101 68.6883 75.1994 76.1028C67.6886 83.5174 57.7293 87.4587 47.5 87.0646C37.2707 87.4587 27.3114 83.5174 19.8006 76.1028C12.2899 68.6883 7.83908 58.4041 7.42188 47.5C7.83908 36.5959 12.2899 26.3117 19.8006 18.8972C27.3114 11.4827 37.2707 7.54133 47.5 7.93537Z"
          fill="#EFBD8E" />
      </svg>
    </div>

    <h2 class="text-xl font-bold mb-2">Confirmation</h2>

    <p class="text-sm text-gray-600 mb-8">
      Êtes-vous sûr de vouloir <b>supprimer</b> ce contenu ?
    </p>

    <div class="flex justify-center gap-4">
      <button (click)="confirmDelete()"
        class="bg-red-600 text-white px-8 py-3 rounded-lg hover:bg-red-700">Supprimer</button>
      <button (click)="closePopups()" class="bg-gray-100 px-8 py-3 rounded-lg hover:bg-gray-200">Annuler</button>
    </div>

  </div>
</div>


<div *ngIf="showSuccessApprove" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl w-[360px] p-8 text-center shadow-xl">


    <div class="w-full flex items-center justify-center mb-4">
      <svg width="65" height="65" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M70.2452 34.0264C70.9106 34.7294 71.27 35.6677 71.2443 36.6353C71.2186 37.6029 70.81 38.5208 70.1082 39.1875L43.3438 64.7644C42.6518 65.4153 41.736 65.7751 40.7861 65.7692C39.8501 65.7728 38.9494 65.4125 38.2741 64.7644L24.8918 51.976C24.5207 51.6521 24.2188 51.2566 24.0044 50.8131C23.79 50.3696 23.6675 49.8874 23.6442 49.3954C23.6209 48.9033 23.6973 48.4117 23.8689 47.9499C24.0405 47.4882 24.3037 47.0659 24.6426 46.7085C24.9816 46.3511 25.3893 46.0659 25.8413 45.87C26.2932 45.6742 26.7801 45.5718 27.2727 45.5689C27.7653 45.566 28.2534 45.6628 28.7076 45.8534C29.1618 46.044 29.5728 46.3244 29.9159 46.6779L40.7861 57.0457L65.0841 33.8894C65.7871 33.224 66.7254 32.8646 67.693 32.8903C68.6606 32.916 69.5785 33.3246 70.2452 34.0264ZM95 47.5C95 56.8946 92.2142 66.0782 86.9948 73.8896C81.7754 81.7009 74.357 87.7891 65.6775 91.3843C56.998 94.9794 47.4473 95.9201 38.2332 94.0873C29.0191 92.2545 20.5554 87.7305 13.9124 81.0876C7.26945 74.4446 2.74552 65.9809 0.91272 56.7668C-0.920077 47.5527 0.020581 38.002 3.61574 29.3225C7.2109 20.643 13.2991 13.2246 21.1104 8.00519C28.9218 2.78583 38.1054 0 47.5 0C60.0904 0.0241427 72.1582 5.03635 81.0609 13.9391C89.9637 22.8418 94.9759 34.9096 95 47.5ZM87.6923 47.5C87.6923 39.5507 85.3351 31.7799 80.9187 25.1703C76.5023 18.5608 70.2251 13.4092 62.8809 10.3671C55.5368 7.32509 47.4554 6.52915 39.6589 8.07997C31.8623 9.6308 24.7008 13.4587 19.0798 19.0797C13.4588 24.7007 9.63082 31.8623 8.08 39.6589C6.52917 47.4554 7.32511 55.5367 10.3672 62.8809C13.4092 70.2251 18.5608 76.5023 25.1704 80.9187C31.78 85.3351 39.5507 87.6923 47.5 87.6923C58.156 87.6802 68.372 83.4418 75.9069 75.9069C83.4418 68.372 87.6802 58.1559 87.6923 47.5Z"
          fill="#008D36" />
      </svg>
    </div>

    <p class="text-lg font-medium text-gray-700">Contenu approuvé</p>
  </div>
</div>



<div *ngIf="showSuccessMask" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl w-[360px] p-8 text-center shadow-xl">

    <div class="w-full flex items-center justify-center mb-4">
      <svg width="65" height="65" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M70.2452 34.0264C70.9106 34.7294 71.27 35.6677 71.2443 36.6353C71.2186 37.6029 70.81 38.5208 70.1082 39.1875L43.3438 64.7644C42.6518 65.4153 41.736 65.7751 40.7861 65.7692C39.8501 65.7728 38.9494 65.4125 38.2741 64.7644L24.8918 51.976C24.5207 51.6521 24.2188 51.2566 24.0044 50.8131C23.79 50.3696 23.6675 49.8874 23.6442 49.3954C23.6209 48.9033 23.6973 48.4117 23.8689 47.9499C24.0405 47.4882 24.3037 47.0659 24.6426 46.7085C24.9816 46.3511 25.3893 46.0659 25.8413 45.87C26.2932 45.6742 26.7801 45.5718 27.2727 45.5689C27.7653 45.566 28.2534 45.6628 28.7076 45.8534C29.1618 46.044 29.5728 46.3244 29.9159 46.6779L40.7861 57.0457L65.0841 33.8894C65.7871 33.224 66.7254 32.8646 67.693 32.8903C68.6606 32.916 69.5785 33.3246 70.2452 34.0264ZM95 47.5C95 56.8946 92.2142 66.0782 86.9948 73.8896C81.7754 81.7009 74.357 87.7891 65.6775 91.3843C56.998 94.9794 47.4473 95.9201 38.2332 94.0873C29.0191 92.2545 20.5554 87.7305 13.9124 81.0876C7.26945 74.4446 2.74552 65.9809 0.91272 56.7668C-0.920077 47.5527 0.020581 38.002 3.61574 29.3225C7.2109 20.643 13.2991 13.2246 21.1104 8.00519C28.9218 2.78583 38.1054 0 47.5 0C60.0904 0.0241427 72.1582 5.03635 81.0609 13.9391C89.9637 22.8418 94.9759 34.9096 95 47.5ZM87.6923 47.5C87.6923 39.5507 85.3351 31.7799 80.9187 25.1703C76.5023 18.5608 70.2251 13.4092 62.8809 10.3671C55.5368 7.32509 47.4554 6.52915 39.6589 8.07997C31.8623 9.6308 24.7008 13.4587 19.0798 19.0797C13.4588 24.7007 9.63082 31.8623 8.08 39.6589C6.52917 47.4554 7.32511 55.5367 10.3672 62.8809C13.4092 70.2251 18.5608 76.5023 25.1704 80.9187C31.78 85.3351 39.5507 87.6923 47.5 87.6923C58.156 87.6802 68.372 83.4418 75.9069 75.9069C83.4418 68.372 87.6802 58.1559 87.6923 47.5Z"
          fill="#008D36" />
      </svg>
    </div>

    <p class="text-lg font-medium text-gray-700 mt-4">Contenu masqué</p>
  </div>
</div>


<div *ngIf="showSuccessDelete" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl w-[360px] p-8 text-center shadow-xl">

    <div class="w-full flex items-center justify-center mb-4">
      <svg width="65" height="65" viewBox="0 0 95 95" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M70.2452 34.0264C70.9106 34.7294 71.27 35.6677 71.2443 36.6353C71.2186 37.6029 70.81 38.5208 70.1082 39.1875L43.3438 64.7644C42.6518 65.4153 41.736 65.7751 40.7861 65.7692C39.8501 65.7728 38.9494 65.4125 38.2741 64.7644L24.8918 51.976C24.5207 51.6521 24.2188 51.2566 24.0044 50.8131C23.79 50.3696 23.6675 49.8874 23.6442 49.3954C23.6209 48.9033 23.6973 48.4117 23.8689 47.9499C24.0405 47.4882 24.3037 47.0659 24.6426 46.7085C24.9816 46.3511 25.3893 46.0659 25.8413 45.87C26.2932 45.6742 26.7801 45.5718 27.2727 45.5689C27.7653 45.566 28.2534 45.6628 28.7076 45.8534C29.1618 46.044 29.5728 46.3244 29.9159 46.6779L40.7861 57.0457L65.0841 33.8894C65.7871 33.224 66.7254 32.8646 67.693 32.8903C68.6606 32.916 69.5785 33.3246 70.2452 34.0264ZM95 47.5C95 56.8946 92.2142 66.0782 86.9948 73.8896C81.7754 81.7009 74.357 87.7891 65.6775 91.3843C56.998 94.9794 47.4473 95.9201 38.2332 94.0873C29.0191 92.2545 20.5554 87.7305 13.9124 81.0876C7.26945 74.4446 2.74552 65.9809 0.91272 56.7668C-0.920077 47.5527 0.020581 38.002 3.61574 29.3225C7.2109 20.643 13.2991 13.2246 21.1104 8.00519C28.9218 2.78583 38.1054 0 47.5 0C60.0904 0.0241427 72.1582 5.03635 81.0609 13.9391C89.9637 22.8418 94.9759 34.9096 95 47.5ZM87.6923 47.5C87.6923 39.5507 85.3351 31.7799 80.9187 25.1703C76.5023 18.5608 70.2251 13.4092 62.8809 10.3671C55.5368 7.32509 47.4554 6.52915 39.6589 8.07997C31.8623 9.6308 24.7008 13.4587 19.0798 19.0797C13.4588 24.7007 9.63082 31.8623 8.08 39.6589C6.52917 47.4554 7.32511 55.5367 10.3672 62.8809C13.4092 70.2251 18.5608 76.5023 25.1704 80.9187C31.78 85.3351 39.5507 87.6923 47.5 87.6923C58.156 87.6802 68.372 83.4418 75.9069 75.9069C83.4418 68.372 87.6802 58.1559 87.6923 47.5Z"
          fill="#008D36" />
      </svg>
    </div>

    <p class="text-lg font-medium text-gray-700 mt-4">Contenu supprimé</p>
  </div>
</div>





<div *ngIf="showHistoryPopup" class="fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl max-w-7xl p-6 shadow-xl">

    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-xl font-bold">Historique des actions</h2>

      <button (click)="closePopups()" class="text-gray-400 hover:text-gray-600 text-xl">
        ✕
      </button>
    </div>

    <!-- Bloc informations du signalement -->
    <div class="grid grid-cols-4 gap-3 bg-gray-50 p-4 rounded-lg mb-4">

      <div>
        <p class="text-[#64748B] text-xs">Date signalement</p>
        <p class="font-medium text-sm text-[#333333]">15/11/2025 14:30</p>
      </div>

      <div>
        <p class="text-[#64748B] text-xs">Auteur du signalement</p>
        <p class="font-medium text-sm text-[#333333]">Moussa SOW</p>
      </div>

      <div>
        <p class="text-[#64748B] text-xs">Raison du signalement</p>
        <p class="font-medium text-sm text-[#333333]">Commentaire inapproprié</p>
      </div>

      <div>
        <p class="text-[#64748B] text-xs">Contenu signalé</p>
        <p class="font-medium text-sm text-[#333333]">Bon service, travail de qualité.</p>
      </div>
    </div>

    <!-- Tableau des actions -->
    <table class="w-full text-sm">
      <thead class="text-[#2C3E50] text-xs font-semibold border-b">
        <tr>
          <th class="py-2 text-left">Date traitement</th>
          <th class="py-2 text-left">Auteur</th>
          <th class="py-2 text-left">Motif</th>
        </tr>
      </thead>

      <tbody>
        <tr class="text-sm text-[#4B4848] border-b" *ngFor="let x of [1,2]">
          <td class="py-3">25/11/2025</td>
          <td class="py-3">Moussa Sow</td>
          <td class="py-3">Commentaire inapproprié</td>
        </tr>
      </tbody>
    </table>

    <!-- Bouton annuler -->
    <div class="text-right mt-6">
      <button (click)="closePopups()" class="bg-gray-100 px-8 py-3 rounded-lg hover:bg-gray-200">
        Annuler
      </button>
    </div>

  </div>
</div>