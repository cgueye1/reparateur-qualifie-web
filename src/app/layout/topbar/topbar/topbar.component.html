<div class="w-full h-16 bg-white  flex items-center justify-between px-8">

  <!-- LEFT : icon + title -->
  <div class="flex items-center gap-4">

    <div  (click)="toggleSidebar();$event.stopPropagation()" class="text-2xl text-gray-700">
      <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 0H1.25C0.918479 0 0.600537 0.131696 0.366116 0.366116C0.131696 0.600537 0 0.918479 0 1.25V12.5C0 12.8315 0.131696 13.1495 0.366116 13.3839C0.600537 13.6183 0.918479 13.75 1.25 13.75H15C15.3315 13.75 15.6495 13.6183 15.8839 13.3839C16.1183 13.1495 16.25 12.8315 16.25 12.5V1.25C16.25 0.918479 16.1183 0.600537 15.8839 0.366116C15.6495 0.131696 15.3315 0 15 0ZM1.25 8.75H2.5C2.66576 8.75 2.82473 8.68415 2.94194 8.56694C3.05915 8.44973 3.125 8.29076 3.125 8.125C3.125 7.95924 3.05915 7.80027 2.94194 7.68306C2.82473 7.56585 2.66576 7.5 2.5 7.5H1.25V6.25H2.5C2.66576 6.25 2.82473 6.18415 2.94194 6.06694C3.05915 5.94973 3.125 5.79076 3.125 5.625C3.125 5.45924 3.05915 5.30027 2.94194 5.18306C2.82473 5.06585 2.66576 5 2.5 5H1.25V3.75H2.5C2.66576 3.75 2.82473 3.68415 2.94194 3.56694C3.05915 3.44973 3.125 3.29076 3.125 3.125C3.125 2.95924 3.05915 2.80027 2.94194 2.68306C2.82473 2.56585 2.66576 2.5 2.5 2.5H1.25V1.25H4.375V12.5H1.25V8.75ZM15 12.5H5.625V1.25H15V12.5Z"
          fill="#1C1C1C"/>
      </svg>
    </div>

    <h1 class="text-xl font-semibold text-gray-800">
      {{ pageTitle }}
    </h1>

  </div>

  <!-- RIGHT : notifications + profile + menu -->
  <div class="flex items-center gap-6 user-menu-area relative">

    <!-- Notification bell -->
    <button class="relative text-2xl text-gray-700" >
      <svg width="18" height="21" viewBox="0 0 18 21" fill="none">
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M16.491 10.3122C16.0038 10.437 15.5029 10.5 15 10.4997H14.985V10.8252C14.985 12.1887 15.1995 13.5522 15.648 14.8617L16.2045 16.5312H1.7595V16.5132L2.3145 14.8437C2.74929 13.5422 2.97361 12.1795 2.979 10.8072V7.50575C2.979 6.66125 3.159 5.83625 3.4995 5.08175C3.84 4.31075 4.3245 3.62825 4.953 3.07175C5.5815 2.49875 6.318 2.06675 7.107 1.81625C7.914 1.54625 8.757 1.45625 9.582 1.54625L9.762 1.57325C10.0348 1.08485 10.3746 0.637015 10.7715 0.242746C10.4282 0.150558 10.0789 0.0828874 9.726 0.0402458C8.685 -0.0677542 7.626 0.0402458 6.621 0.380746C5.616 0.703246 4.701 1.24175 3.93 1.96025C3.15437 2.65951 2.53665 3.51603 2.118 4.47275C1.69769 5.42901 1.47767 6.46121 1.4715 7.50575V10.8057C1.46955 12.0137 1.27564 13.2137 0.897 14.3607L0 17.0142L0.7185 18.0012H5.976C5.976 18.7902 6.2985 19.5612 6.855 20.1192C7.41 20.6742 8.1825 20.9982 8.973 20.9982C9.7635 20.9982 10.533 20.6757 11.0895 20.1192C11.646 19.5627 11.97 18.7902 11.97 18.0012H17.2275L17.9445 17.0142L17.0655 14.3592C16.6851 13.2069 16.4912 12.0012 16.491 10.7877V10.3122Z"
          fill="#2C3E50" />
      </svg>
      <span class="absolute top-0 right-0 h-2.5 w-2.5 bg-red-600 rounded-full"></span>
    </button>

    <!-- USER Profile -->
    <div class="relative flex items-center gap-3 cursor-pointer" (click)="toggleMenu()">

      <img
        src="profile.png"
        class="h-10 w-10 rounded-full object-cover border border-gray-300"
      />

      <div class="hidden md:block">
        <p class="font-semibold text-gray-800 leading-4">Moussa Ly</p>
        <p class="text-sm text-gray-500 leading-3">Administrateur</p>
      </div>

      <span class="text-xl text-gray-600 hidden md:block">⋮</span>
    </div>

    <!-- MENU -->
    <div
      *ngIf="menuOpen"
      class="absolute right-0 top-16 bg-white shadow-xl rounded-xl py-3 w-44 z-50"
    >
      <button routerLink="/mon-compte" class="flex items-center gap-3 px-4 py-2 hover:bg-gray-100 cursor-pointer">
        <svg width="24" height="24" fill="#9CA3AF">
          <path d="M12 4C13.0609 4 14.0783 4.42143 14.8284 5.17157C15.5786 5.92172 16 6.93913 16 8C16 9.06087 15.5786 10.0783 14.8284 10.8284C14.0783 11.5786 13.0609 12 12 12C10.9391 12 9.92172 11.5786 9.17157 10.8284C8.42143 10.0783 8 9.06087 8 8C8 6.93913 8.42143 5.92172 9.17157 5.17157C9.92172 4.42143 10.9391 4 12 4ZM12 14C16.42 14 20 15.79 20 18V20H4V18C4 15.79 7.58 14 12 14Z" />
        </svg>
        Mon compte
      </button>

      <button  routerLink="/auth/login" class="flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-gray-100 cursor-pointer">
        <svg width="24" height="24" fill="#FF0909">
          <path d="M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H12V5H5V19H12V21H5ZM16 17L14.625 15.55L17.175 13H9V11H17.175L14.625 8.45L16 7L21 12L16 17Z" />
        </svg>
        Déconnexion
      </button>
    </div>

  </div>

</div>

<!-- popup -->
<!-- ✅ POPUP CONFIRM LOGOUT -->
<div
  *ngIf="showLogoutPopup"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"
>
  <div class="bg-white rounded-2xl p-8 w-[480px] text-center">

    <!-- Icon -->
    <div class="w-16 h-16 mx-auto mb-4 rounded-full border-4 border-orange-300 flex items-center justify-center text-orange-400 text-3xl">
      !
    </div>

    <h2 class="text-xl font-semibold text-gray-800 mb-2">
      Confirmation
    </h2>

    <p class="text-gray-600 mb-8">
      Êtes-vous sûr de vouloir vous déconnecter ?
    </p>

    <div class="flex justify-center gap-4">
      <button
        class="bg-[#E95F32] text-white px-6 py-2 rounded-lg"
        (click)="confirmLogout()"
      >
        Oui, me déconnecter
      </button>

      <button
        class="bg-gray-100 px-6 py-2 rounded-lg text-gray-600"
        (click)="closeLogoutPopup()"
      >
        Annuler
      </button>
    </div>

  </div>
</div>
<!-- ✅ POPUP CONFIRM LOGOUT END -->
